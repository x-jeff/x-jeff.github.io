---
layout:     post
title:      ã€PythonåŸºç¡€ã€‘ç¬¬åä¸‰è¯¾ï¼šèµ„æ–™å¤„ç†å®æˆ˜åº”ç”¨
subtitle:   èµ„æ–™å¤„ç†å®æˆ˜åº”ç”¨ï¼Œä½è¿ç®—ç¬¦ï¼Œé€»è¾‘è¿ç®—ç¬¦
date:       2020-05-20
author:     x-jeff
header-img: blogimg/20200520.jpg
catalog: true
tags:
    - Python Series
---
>æœ¬æ–‡ä¸ºåŸåˆ›æ–‡ç« ï¼Œæœªç»æœ¬äººå…è®¸ï¼Œç¦æ­¢è½¬è½½ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

# 1.å‰è¨€

åˆ©ç”¨ä¹‹å‰å‡ ç¯‡åšå®¢å­¦ä¹ çš„èµ„æ–™å¤„ç†çš„æ–¹æ³•ï¼Œå¯¹å®é™…ä¸­é‡åˆ°çš„èµ„æ–™è¿›è¡Œå¤„ç†ã€‚æœ¬æ–‡ä»¥ä¸€ä¸ªå‚¨å­˜å­¦ç”Ÿä¿¡æ¯çš„csvæ ¼å¼çš„èµ„æ–™ä¸ºä¾‹ã€‚csvä¸­å­˜æ”¾çš„æ•°æ®è§ä¸‹ï¼š

![](https://github.com/x-jeff/BlogImage/raw/master/PythonSeries/Lesson13/13x1.png)

# 2.è¯»å…¥èµ„æ–™

åˆ©ç”¨pandasè¯»å…¥csvï¼š

```python
import pandas as pd
df=pd.read_csv("student.csv")
```

![](https://github.com/x-jeff/BlogImage/raw/master/PythonSeries/Lesson13/13x2.png)

å¦‚æœæ•°æ®è¿‡å¤šï¼Œå¯ä»¥ä½¿ç”¨`df.head()`æŸ¥çœ‹å‰å‡ è¡Œçš„æ•°æ®ã€‚æˆ–ä½¿ç”¨`df.tail()`æŸ¥çœ‹åå‡ è¡Œçš„æ•°æ®ã€‚

æˆ‘ä»¬å‘ç°csvä¸­ç¬¬ä¸€åˆ—æ²¡æœ‰åˆ—åï¼Œåœ¨ä½¿ç”¨pandasè¯»è¿›æ¥çš„æ—¶å€™è¢«è‡ªåŠ¨èµ‹äºˆäº†â€œUnnamed:0â€çš„åˆ—åã€‚è¿™ä¸€åˆ—å¯¹äºæˆ‘ä»¬æ¥è¯´æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡`del df["Unnamed: 0"]`åˆ é™¤è¯¥åˆ—ã€‚æˆ–è€…æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†è¯¥åˆ—ä½œä¸ºDataFrameçš„è¡Œç´¢å¼•ï¼š

```python
df=pd.read_csv("student.csv",index_col=0)
```

å¾—åˆ°ï¼š

![](https://github.com/x-jeff/BlogImage/raw/master/PythonSeries/Lesson13/13x3.png)

# 3.å¤„ç†ç¼ºå¤±å€¼

å°†å­—æ®µâ€œHeightâ€ä¸­çš„â€œNoDataâ€ç”¨ç¼ºå¤±å€¼è¡¨ç¤ºï¼š

```python
import numpy as np
df.loc[df["Height"]=="NoData","Height"]=np.nan
```

![](https://github.com/x-jeff/BlogImage/raw/master/PythonSeries/Lesson13/13x4.png)

è¿™æ­¥æ“ä½œä¹Ÿå¯ä»¥åœ¨è¯»å–csvæ—¶å®Œæˆï¼š

```python
df=pd.read_csv("student.csv",na_values="NoData",index_col=0)
```

ç¼ºå¤±å€¼çš„å¤„ç†è¯·æˆ³ğŸ‘‰ï¼š[ã€PythonåŸºç¡€ã€‘ç¬¬åä¸€è¯¾ï¼šå¤„ç†ç¼ºå¤±å€¼](http://shichaoxin.com/2020/02/23/PythonåŸºç¡€-ç¬¬åä¸€è¯¾-å¤„ç†ç¼ºå¤±å€¼/)ã€‚

# 4.æŸ¥çœ‹DataFrameçš„ä¿¡æ¯

ä½¿ç”¨`df.info()`æŸ¥çœ‹DataFrameçš„ä¿¡æ¯ï¼š

![](https://github.com/x-jeff/BlogImage/raw/master/PythonSeries/Lesson13/13x5.png)

æŸ¥çœ‹DataFrameçš„åˆ—æ ‡ç­¾`df.columns`ï¼š

![](https://github.com/x-jeff/BlogImage/raw/master/PythonSeries/Lesson13/13x6.png)

æŸ¥çœ‹å­—æ®µç±»å‹`df.dtypes`ï¼š

![](https://github.com/x-jeff/BlogImage/raw/master/PythonSeries/Lesson13/13x7.png)

DataFrameçš„å™è¿°æ€§ç»Ÿè®¡ä¿¡æ¯`df.describe()`ï¼ˆé’ˆå¯¹è¿ç»­å‹æ•°æ®ï¼‰ï¼š

![](https://github.com/x-jeff/BlogImage/raw/master/PythonSeries/Lesson13/13x8.png)

# 5.ç­›é€‰å­—æ®µ

å¦‚æœæˆ‘ä»¬éœ€è¦æŸ¥çœ‹â€œGradeâ€å­—æ®µçš„ç›¸å…³ä¿¡æ¯ï¼Œä¾‹å¦‚å­ç±»åˆ«çš„ä¸ªæ•°ä»¥åŠæ¯ä¸ªå­ç±»åˆ«åŒ…å«çš„æ•°æ®æ¡æ•°ç­‰ï¼š

```python
df["Grade"].value_counts()
```

![](https://github.com/x-jeff/BlogImage/raw/master/PythonSeries/Lesson13/13x9.png)

åªæŸ¥çœ‹â€œGradeâ€ä¸º3çš„èµ„æ–™ï¼š

```python
df[df["Grade"]==3]
```

ä¹Ÿå¯ä»¥ä½¿ç”¨`.loc`æˆ–è€…`.iloc`é€‰å–å­—æ®µï¼Œè¯¦æƒ…è¯·æˆ³ï¼š[ã€PythonåŸºç¡€ã€‘ç¬¬å…­è¯¾ï¼šå¤„ç†CSVã€Excelæ ¼å¼çš„æ•°æ®](http://shichaoxin.com/2019/08/01/PythonåŸºç¡€-ç¬¬å…­è¯¾-å¤„ç†CSV-Excelæ ¼å¼çš„æ•°æ®/)ã€‚

å¯ä»¥è¿›ä¸€æ­¥è®¾ç½®æ›´ä¸ºè¯¦ç»†çš„ç­›é€‰æ¡ä»¶ï¼Œä¾‹å¦‚ï¼š

```python
df.loc[(df["Score"]>90) & (df["Grade"]==3)]
```

![](https://github.com/x-jeff/BlogImage/raw/master/PythonSeries/Lesson13/13x10.png)

âš ï¸æ­¤å¤„ä¸èƒ½ç”¨`.iloc`ã€‚å¹¶ä¸”ä¸èƒ½ä½¿ç”¨`and`è¿æ¥ã€‚

## 5.1.ä½è¿ç®—ç¬¦ä¸é€»è¾‘è¿ç®—ç¬¦

### 5.1.1.ä½è¿ç®—ç¬¦

ä½è¿ç®—ç¬¦ï¼š`&`ã€`|`ã€`^`ã€`~`ã€‚é’ˆå¯¹äºŒè¿›åˆ¶è¿ç®—ã€‚

1. æŒ‰ä½â€œä¸â€è¿ç®—ç¬¦`&`ï¼šå‚ä¸è¿ç®—çš„ä¸¤ä¸ªå€¼ï¼Œå¦‚æœä¸¤ä¸ªç›¸åº”ä½éƒ½æ˜¯1ï¼Œåˆ™è¯¥ä½çš„ç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚
2. æŒ‰ä½â€œæˆ–â€è¿ç®—ç¬¦`|`ï¼šåªè¦å¯¹åº”çš„ä¸¤ä¸ªäºŒè¿›ä½æœ‰ä¸€ä¸ªä¸º1æ—¶ï¼Œç»“æœä½å°±ä¸º1ã€‚
3. æŒ‰ä½â€œå¼‚æˆ–â€è¿ç®—ç¬¦`^`ï¼šå½“ä¸¤å¯¹åº”çš„äºŒè¿›ä½ç›¸å¼‚æ—¶ï¼Œç»“æœä¸º1ã€‚
4. æŒ‰ä½â€œå–åâ€è¿ç®—ç¬¦`~`ï¼šå¯¹æ•°æ®çš„æ¯ä¸ªäºŒè¿›åˆ¶ä½å–åï¼Œå³æŠŠ1å˜ä¸º0ï¼ŒæŠŠ0å˜ä¸º1ï¼ˆå¯æ–¹ä¾¿è®°ä¸ºï¼š`~x=-(x+1)`ï¼‰ã€‚

â€¼ï¸æ•°å€¼æ˜¯ä»¥[åç ](http://shichaoxin.com/2019/04/24/C++åŸºç¡€-ç¬¬å…­è¯¾-ç±»å‹è½¬æ¢/)çš„å½¢å¼å­˜å‚¨åœ¨è®¡ç®—æœºä¸­çš„ã€‚

```python
#2çš„åç ä¸º0000 0010
#3çš„åç ä¸º0000 0011
#4çš„åç ä¸º0000 0100
#-2çš„åç ä¸º1111 1110
#-3çš„åç ä¸º1111 1101
#-4çš„åç ä¸º1111 1100

#æŒ‰ä½â€œä¸â€è¿ç®—
3&4#è¾“å‡ºä¸º0ã€‚
3&2#è¾“å‡ºä¸º2ã€‚
(-3)&(-4)#å¾—åˆ°äºŒè¿›åˆ¶æ•°1111 1100ï¼Œä¸º-4çš„åç ã€‚æ‰€ä»¥è¾“å‡ºä¸º-4ã€‚

#æŒ‰ä½â€œæˆ–â€è¿ç®—
3|4#è¾“å‡ºä¸º7ã€‚
3|2#è¾“å‡ºä¸º3ã€‚
(-3)|(-4)#å¾—åˆ°äºŒè¿›åˆ¶æ•°1111 1101ï¼Œä¸º-3çš„åç ã€‚æ‰€ä»¥è¾“å‡ºä¸º-3ã€‚

#æŒ‰ä½â€œå¼‚æˆ–â€è¿ç®—
3^4#è¾“å‡ºä¸º7ã€‚
3^2#è¾“å‡ºä¸º1ã€‚
(-3)^(-4)#å¾—åˆ°äºŒè¿›åˆ¶æ•°0000 0001ï¼Œä¸º1çš„åç ã€‚æ‰€ä»¥è¾“å‡ºä¸º1ã€‚

#æŒ‰ä½â€œå–åâ€è¿ç®—
ï½2#2çš„åç æŒ‰ä½å–åä¸º1111 1101ï¼Œä¸º-3çš„åç ã€‚æ‰€ä»¥è¾“å‡ºä¸º-3ã€‚ä¹Ÿå¯å¿«é€Ÿè®¡ç®—-(2+1)=-3ã€‚
~(-2)#-2çš„åç æŒ‰ä½å–åä¸º0000 0001ï¼Œä¸º1çš„åç ã€‚æ‰€ä»¥è¾“å‡ºä¸º1ã€‚ä¹Ÿå¯å¿«é€Ÿè®¡ç®—-(-2+1)=1ã€‚
```

### 5.1.2.é€»è¾‘è¿ç®—ç¬¦

1. é€»è¾‘â€œä¸â€è¿ç®—ç¬¦`and`ï¼š`x and y`ï¼Œå¦‚æœxä¸ºFalseï¼Œåˆ™è¿”å›xå€¼ï¼Œå¦åˆ™è¿”å›yå€¼ã€‚
2. é€»è¾‘â€œæˆ–â€è¿ç®—ç¬¦`or`ï¼š`x or y`ï¼Œå¦‚æœxé0ï¼Œè¿”å›xå€¼ï¼Œå¦åˆ™è¿”å›yå€¼ã€‚
3. é€»è¾‘â€œéâ€è¿ç®—ç¬¦`not`ï¼š`not x`ï¼Œå¦‚æœxä¸ºTrueï¼Œè¿”å›Falseã€‚å¦‚æœxä¸ºFalseï¼Œè¿”å›ä¸ºTrueã€‚

```python
#é€»è¾‘â€œä¸â€è¿ç®—
True and True#True
True and False#False
False and True#False
False and False#False
1 and 2#1ç›¸å½“äºTrueï¼Œå› æ­¤è¿”å›yå€¼ï¼Œå³2
0 and 2#0ç›¸å½“äºFalseï¼Œå› æ­¤è¿”å›xå€¼ï¼Œå³0

#é€»è¾‘â€œæˆ–â€è¿ç®—
True or True#True
True or False#True
False or True#True
False or False#False
1 or 2#1é0ï¼Œè¿”å›xå€¼ï¼Œå³1
0 or 2#xä¸º0ï¼Œè¿”å›yå€¼ï¼Œå³2

#é€»è¾‘â€œéâ€è¿ç®—
not True#False
not False#True
not 2#False
not 0#True
```

### 5.1.3.ä½è¿ç®—ç¬¦ä¸é€»è¾‘è¿ç®—ç¬¦çš„åŒºåˆ«

é€»è¾‘è¿ç®—ç¬¦åªèƒ½é’ˆå¯¹**å•ä¸ª**boolç±»å‹è¿›è¡Œé€»è¾‘è¿ç®—ã€‚è€Œä½è¿ç®—ç¬¦é™¤äº†å¯¹å•ä¸ªboolç±»å‹è¿›è¡Œé€»è¾‘è¿ç®—å¤–ï¼Œè¿˜å¯ä»¥å¯¹æ•°å€¼è¿›è¡Œè¿ç®—ã€‚

åœ¨ç¬¬5éƒ¨åˆ†ç­›é€‰å­—æ®µä¸­çš„ä¾‹å­ï¼š

```python
df.loc[(df["Score"]>90) & (df["Grade"]==3)]
```

æ­¤å¤„`df["Score"]>90`å¾—åˆ°çš„æ˜¯ï¼š

![](https://github.com/x-jeff/BlogImage/raw/master/PythonSeries/Lesson13/13x11.png)

`df["Grade"]==3`å¾—åˆ°çš„ç»“æœæ ¼å¼å’Œä¸Šè¿°ç›¸åŒã€‚å¯è§ï¼Œ`&`ç¬¦å·ä¸¤ä¾§å¹¶ä¸æ˜¯å•ä¸€çš„boolå€¼ï¼Œå› æ­¤æ­¤å¤„ä¸èƒ½ä½¿ç”¨`and`ï¼Œè€Œåªèƒ½ä½¿ç”¨`&`ã€‚

# 6.ä¿å­˜èµ„æ–™

å°†å¤„ç†å®Œçš„DataFrameä¿å­˜ä¸ºcsvï¼š

```python
df.to_csv("result.csv",index_label="Index")#ä¿å­˜è¡Œç´¢å¼•ï¼Œä¸”è¯¥åˆ—çš„åç§°ä¸ºâ€œindexâ€
df.to_csv("result.csv",index_label=False)#ä¸ä¿å­˜è¡Œç´¢å¼•
```

# 7.ä»£ç åœ°å€

1. [èµ„æ–™å¤„ç†å®æˆ˜åº”ç”¨](https://github.com/x-jeff/Python_Code_Demo/tree/master/Demo13)