---
layout:     post
title:      【OpenCV基础】第三课：掩膜操作
subtitle:   掩膜操作，分辨率，FOV，像素值，位图深度，计时函数
date:       2019-06-02
author:     x-jeff
header-img: blogimg/20190602.jpg
catalog: true
tags:
    - OpenCV Series
---
>本文为原创文章，未经本人允许，禁止转载。转载请注明出处。

# 1.像素值

像素值是图像被数字化时由计算机赋予的值，代表了图像中某一小方块（即**【像素点】**）的平均亮度信息。

**灰度图像**通常用**8位**表示一个像素，这样总共有256个灰度等级（像素值在0～255之间）。

对于**RGB彩色图像**来说，RGB的所谓“多少”就是指亮度，并使用**整数**来表示。通常情况下，RGB各有256级亮度，亮度取值范围为0～255，共256级。按照计算，256级的RGB色彩总共能组合出约1678万种色彩，即$256*256*256=16777216$。通常也被简称为**1600万色**或**千万色**，也称为**24位色**（2的24次方）。$R=0,G=0,B=0$，各通道亮度均为0，自然是黑色。$R=255,G=255,B=255$，各通道亮度均为最大，就是白色。

## 1.1.分辨率

分辨率可分为**显示分辨率**和**图像分辨率**。

* 显示分辨率：又称屏幕分辨率，是指显示器所能显示的像素点的个数。即每行的像素点数\*每列的像素点数，例如：1024\*768。
* 图像分辨率：即单位英寸中所包含的像素点数，其定义更趋近于分辨率本身的定义。可以简单理解为每个像素点的大小。

## 1.2.FOV

FOV是*Field Of View*的简称，即视野(CT中常称为扫描野)。通常有FOV=矩阵大小\*分辨率。单位通常为mm或cm。

# 2.OpenCV处理图像像素

## 2.1.获取图像像素指针

`Mat.ptr<uchar>(int i=0)`：获取像素矩阵的指针，索引`i`表示第几行，从0开始计数。

获取点$P(row,col)$的像素值：`Mat.ptr<uchar>(row)[col]`

⚠️像素值通常为`uchar`类型，因为像素值的取值范围通常为0～255，和`uchar`（即`unsigned char`）取值范围一样。但是也可以根据实际情况调整为其他类型。

## 2.2.获取图像的长和宽

`Mat.cols`输出的是图像x轴的像素个数，即Width。

`Mat.rows`输出的是图像y轴的像素个数，即Height。

`Mat.channels()`输出的是每个像素点的通道个数，RGB图像通道个数为3。

## 2.3.像素范围处理

`saturate_cast<uchar>`可用于控制像素值的取值不超过`uchar`所能表示的范围，即0～255。也可根据需求换成其他类型。

1. `saturate_cast<uchar>(<0)`，像素值小于0时返回0。
2. `saturate_cast<uchar>(>255)`，像素值大于255时返回255。
3. `saturate_cast<uchar>(0≤i≤255)`，返回`i`。

# 3.掩膜操作

# 3.1.掩膜

# X.参考资料

1. [像素值（百度百科）](https://baike.baidu.com/item/像素值/22261826)
2. [RGB（百度百科）](https://baike.baidu.com/item/RGB/342517?fr=aladdin)