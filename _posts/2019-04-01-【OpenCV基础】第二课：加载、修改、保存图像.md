---
layout:     post
title:      ã€OpenCVåŸºç¡€ã€‘ç¬¬äºŒè¯¾ï¼šåŠ è½½ã€ä¿®æ”¹ã€ä¿å­˜å›¾åƒ
subtitle:   åŠ è½½å›¾åƒï¼Œæ˜¾ç¤ºå›¾åƒï¼Œä¿®æ”¹å›¾åƒï¼Œä¿å­˜å›¾åƒ
date:       2019-04-01
author:     x-jeff
header-img: blogimg/20190401.jpg
catalog: true
tags:
    - OpenCV Series
---
>æœ¬æ–‡ä¸ºåŸåˆ›æ–‡ç« ï¼Œæœªç»æœ¬äººå…è®¸ï¼Œç¦æ­¢è½¬è½½ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

# 1.é¢œè‰²ç©ºé—´

**é¢œè‰²ç©ºé—´ï¼š**ä¹Ÿç§°**å½©è‰²æ¨¡å‹**ï¼ˆåˆç§°**å½©è‰²ç©ºé—´**æˆ–**å½©è‰²ç³»ç»Ÿ**ï¼‰ã€‚æœ¬è´¨ä¸Šï¼Œå½©è‰²æ¨¡å‹æ˜¯åæ ‡ç³»ç»Ÿå’Œå­ç©ºé—´çš„é˜è¿°ã€‚ä½äºç³»ç»Ÿçš„æ¯ç§é¢œè‰²éƒ½æœ‰å•ä¸ªç‚¹è¡¨ç¤ºã€‚RGBï¼ˆçº¢ç»¿è“ï¼‰æ˜¯ä¾æ®äººçœ¼è¯†åˆ«çš„é¢œè‰²å®šä¹‰å‡ºçš„ç©ºé—´ï¼Œå¯è¡¨ç¤ºå¤§éƒ¨åˆ†é¢œè‰²ã€‚ä½†åœ¨ç§‘å­¦ç ”ç©¶ä¸­ä¸€èˆ¬ä¸é‡‡ç”¨RGBé¢œè‰²ç©ºé—´ï¼Œå› ä¸ºå®ƒçš„ç»†èŠ‚éš¾ä»¥è¿›è¡Œæ•°å­—åŒ–çš„è°ƒæ•´ã€‚å®ƒå°†è‰²è°ƒï¼Œäº®åº¦ï¼Œé¥±å’Œåº¦ä¸‰ä¸ªé‡æ”¾åœ¨ä¸€èµ·è¡¨ç¤ºï¼Œå¾ˆéš¾åˆ†å¼€ã€‚

# 2.åŠ è½½å›¾åƒ

`cv::imread`åŠŸèƒ½æ˜¯åŠ è½½å›¾åƒæ–‡ä»¶æˆä¸ºä¸€ä¸ªMatå¯¹è±¡ã€‚

`cv::imread`æœ‰ä¸¤ä¸ªå‚æ•°ï¼š

1. ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºå›¾åƒæ–‡ä»¶åç§°ã€‚
2. ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºåŠ è½½çš„å›¾åƒæ˜¯ä»€ä¹ˆç±»å‹ï¼Œæ”¯æŒå¸¸è§çš„ä¸‰ä¸ªå‚æ•°å€¼ï¼š
	* IMREAD_UNCHANGED(<0)è¡¨ç¤ºåŠ è½½åŸå›¾ï¼Œä¸åšä»»ä½•æ”¹å˜ã€‚
	* IMREAD_GRAYSCALE(0)è¡¨ç¤ºæŠŠåŸå›¾ä½œä¸ºç°åº¦å›¾åƒåŠ è½½è¿›æ¥ã€‚
	* IMREAD_COLOR(>0)è¡¨ç¤ºæŠŠåŸå›¾ä½œä¸ºRGBå›¾åƒåŠ è½½è¿›æ¥ã€‚

âš ï¸OpenCVæ”¯æŒJPGã€PNGã€TIFFç­‰å¸¸è§æ ¼å¼å›¾åƒæ–‡ä»¶åŠ è½½ã€‚

ğŸ‘‰Demo1ï¼š

```c++
#include<iostream>
#include<opencv2/opencv.hpp>
using namespace std;
using namespace cv;
int main(){
    Mat src=imread("/Users/xinshichao/PersonalWork/C++Demo/Pictures/p1.jpeg",IMREAD_UNCHANGED);
    if(src.empty()){
        printf("could not find the image...\n");
        return -1;
    }
    namedWindow("src",WINDOW_AUTOSIZE);
    imshow("src",src);
    waitKey(0);
    return 0;
}
```

Demo1è¾“å‡ºç»“æœï¼š

![](https://ws1.sinaimg.cn/large/006tKfTcly1g1psrnsd03j30ze0naqv5.jpg)

ğŸ‘‰Demo2ï¼š

```c++
#include<iostream>
#include<opencv2/opencv.hpp>
using namespace std;
using namespace cv;
int main(){
    Mat src=imread("/Users/xinshichao/PersonalWork/C++Demo/Pictures/p1.jpeg",IMREAD_GRAYSCALE);
    if(src.empty()){
        printf("could not find the image...\n");
        return -1;
    }
    namedWindow("src",WINDOW_AUTOSIZE);
    imshow("src",src);
    waitKey(0);
    return 0;
}
```

Demo2è¾“å‡ºç»“æœï¼š

![](https://ws1.sinaimg.cn/large/006tKfTcly1g1psu0cgw9j30zk0n84qp.jpg)

ğŸ‘‰Demo3ï¼š

```c++
#include<iostream>
#include<opencv2/opencv.hpp>
using namespace std;
using namespace cv;
int main(){
    Mat src=imread("/Users/xinshichao/PersonalWork/C++Demo/Pictures/p1.jpeg",IMREAD_COLOR);
    if(src.empty()){
        printf("could not find the image...\n");
        return -1;
    }
    namedWindow("src",WINDOW_AUTOSIZE);
    imshow("src",src);
    waitKey(0);
    return 0;
}
```

Demo3è¾“å‡ºç»“æœï¼ˆå’ŒDemo1ç»“æœä¸€æ ·ï¼Œå› ä¸ºåŸå›¾å°±æ˜¯RGBå½©è‰²å›¾åƒï¼‰ï¼š

![](https://ws1.sinaimg.cn/large/006tKfTcly1g1psrnsd03j30ze0naqv5.jpg)

# 3.æ˜¾ç¤ºå›¾åƒ

`cv::namedWindow`çš„åŠŸèƒ½æ˜¯åˆ›å»ºä¸€ä¸ªOpenCVçª—å£ï¼Œå®ƒæ˜¯ç”±OpenCVè‡ªåŠ¨åˆ›å»ºä¸é‡Šæ”¾ï¼Œç”¨æˆ·æ— éœ€é”€æ¯å®ƒã€‚

å¸¸è§ç”¨æ³•ï¼š

```c++
namedWindow("Window Title",WINDOW_AUTOSIZE)
```

`WINDOW_AUTOSIZE`ä¼šè‡ªåŠ¨æ ¹æ®å›¾åƒå¤§å°ï¼Œæ˜¾ç¤ºçª—å£å¤§å°ï¼Œä¸èƒ½äººä¸ºæ”¹å˜çª—å£å¤§å°ã€‚

`WINDOW_NORMAL`å…è®¸ä¿®æ”¹çª—å£çš„å¤§å°ã€‚

`cv::imshow`æ ¹æ®çª—å£åç§°æ˜¾ç¤ºå›¾åƒåˆ°æŒ‡å®šçš„çª—å£ä¸Šå»ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯çª—å£åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯Matå¯¹è±¡ã€‚

ä»£ç ç¤ºä¾‹è§ç¬¬2éƒ¨åˆ†çš„Demo1~Demo3ã€‚

# 4.ä¿®æ”¹å›¾åƒ

`cv::cvtColor`çš„åŠŸèƒ½æ˜¯æŠŠå›¾åƒä»ä¸€ä¸ªå½©è‰²ç©ºé—´è½¬æ¢åˆ°å¦ä¸€ä¸ªå½©è‰²ç©ºé—´ï¼Œæœ‰ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºæºå›¾åƒï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºå½©è‰²ç©ºé—´è½¬æ¢ä¹‹åçš„å›¾åƒï¼Œç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºæºå’Œç›®æ ‡è‰²å½©ç©ºé—´ï¼Œå¦‚ï¼š`COLOR_BGR2HLS`ã€`COLOR_BGR2GRAY`ç­‰ã€‚

>HLSå½©è‰²ç©ºé—´ï¼šè‰²è°ƒï¼ˆHï¼‰ï¼Œäº®åº¦ï¼ˆLï¼‰ï¼Œé¥±å’Œåº¦ï¼ˆSï¼‰ã€‚

>æ˜¯BGRè€Œä¸æ˜¯RGBæ˜¯å› ä¸ºä¸€ä¸ªåƒç´ ç‚¹å†…ä¸‰ä¸ªé€šé“çš„æ’åˆ—é¡ºåºå°±æ˜¯Bã€Gã€Rã€‚

Demo4ï¼š

```c++
    Mat src_gray;
    cvtColor(src,src_gray,COLOR_BGR2GRAY);
    namedWindow("src_gray",WINDOW_AUTOSIZE);
    imshow("src_gray",src_gray);
```

Demo4è¾“å‡ºç»“æœåŒDemo2ã€‚

# 5.ä¿å­˜å›¾åƒ

`cv::imwrite`å¯ä»¥ä¿å­˜å›¾åƒåˆ°æŒ‡å®šç›®å½•è·¯å¾„ã€‚

åªæœ‰8ä½ã€16ä½çš„PNGã€JPGã€Tiffæ–‡ä»¶æ ¼å¼è€Œä¸”æ˜¯å•é€šé“æˆ–è€…ä¸‰é€šé“çš„BGRå›¾åƒæ‰å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼ä¿å­˜ã€‚

ä¿å­˜PNGæ ¼å¼çš„æ—¶å€™å¯ä»¥ä¿å­˜é€æ˜é€šé“çš„å›¾ç‰‡ã€‚

å¯ä»¥æŒ‡å®šå‹ç¼©å‚æ•°ã€‚

# 6.ä»£ç åœ°å€

1. [å›¾åƒçš„åŠ è½½ã€æ˜¾ç¤ºã€ä¿®æ”¹ã€ä¿å­˜](https://github.com/x-jeff/OpenCV_Code_Demo/tree/master/Demo2)

# 7.å‚è€ƒèµ„æ–™

1. [é¢œè‰²ç©ºé—´ï¼ˆç™¾åº¦ç™¾ç§‘ï¼‰](https://baike.baidu.com/item/é¢œè‰²ç©ºé—´/10834848?fr=aladdin)