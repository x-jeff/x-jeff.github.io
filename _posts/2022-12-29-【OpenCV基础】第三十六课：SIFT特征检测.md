---
layout:     post
title:      ã€OpenCVåŸºç¡€ã€‘ç¬¬ä¸‰åå…­è¯¾ï¼šSIFTç‰¹å¾æ£€æµ‹
subtitle:   SIFTç‰¹å¾æ£€æµ‹åŸç†ï¼ŒäºŒæ¬¡å‹åŠå…¶çŸ©é˜µï¼Œå¯¹å‹¾å‡½æ•°ï¼Œcv::xfeatures2d::SIFT::create
date:       2022-12-29
author:     x-jeff
header-img: blogimg/20221107.jpg
catalog: true
tags:
    - OpenCV Series
---
>æœ¬æ–‡ä¸ºåŸåˆ›æ–‡ç« ï¼Œæœªç»æœ¬äººå…è®¸ï¼Œç¦æ­¢è½¬è½½ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

# 1.SIFTç‰¹å¾æ£€æµ‹åŸç†

SIFTå…¨ç§°ä¸º**Scale Invariant Feature Transform**ã€‚SIFTç‰¹å¾åœ¨é¢å¯¹å›¾åƒç¼©æ”¾æˆ–è€…å›¾åƒæ—‹è½¬æ—¶å…·æœ‰ä¸å˜æ€§ï¼Œå¹¶ä¸”åœ¨äº®åº¦æ”¹å˜å’Œ3Dè§†é‡ä¸‹ï¼Œä¹Ÿå…·æœ‰éƒ¨åˆ†çš„ä¸å˜æ€§ã€‚æ­¤å¤–ï¼Œè¿™ä¸€ç‰¹å¾å¯¹é®æŒ¡ã€æ‚ä¹±ä»¥åŠå™ªå£°æœ‰ä¸€å®šçš„æŠµæŠ—èƒ½åŠ›ã€‚

## 1.1.å»ºç«‹é«˜æ–¯å·®åˆ†é‡‘å­—å¡”

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/OpenCVSeries/Lesson36/36x1.png)

é¦–å…ˆå»ºç«‹[é«˜æ–¯é‡‘å­—å¡”](http://shichaoxin.com/2020/07/15/OpenCVåŸºç¡€-ç¬¬åäºŒè¯¾-å›¾åƒçš„ç¼©æ”¾/#31é«˜æ–¯é‡‘å­—å¡”)ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒåŒä¸€octaveå†…å›¾åƒå¤§å°æ˜¯ä¸€æ ·çš„ï¼Œä»octave1åˆ°octave5ï¼Œå›¾åƒå°ºå¯¸é€æ¸å‡å°ï¼Œoctave2çš„é•¿å’Œå®½åˆ†åˆ«æ˜¯octave1çš„ä¸€åŠï¼Œå‰©ä½™çš„ä¾æ­¤ç±»æ¨ã€‚å…¶ä¸­ï¼Œoctave1æ˜¯åŸºäºåŸå§‹å›¾åƒåšä¸åŒå°ºåº¦çš„[é«˜æ–¯æ¨¡ç³Š](http://shichaoxin.com/2020/03/03/OpenCVåŸºç¡€-ç¬¬ä¹è¯¾-å›¾åƒæ¨¡ç³Š/#3é«˜æ–¯æ¨¡ç³Š)ã€‚æ¯ä¸ªoctaveå†…éƒ½æœ‰å¤šå±‚ï¼Œæ¯å±‚ä½¿ç”¨ä¸åŒçš„$\sigma$å€¼ï¼ˆå³ä¸åŒçš„å°ºåº¦ï¼‰æ¥è¿›è¡Œ[é«˜æ–¯æ¨¡ç³Š](http://shichaoxin.com/2020/03/03/OpenCVåŸºç¡€-ç¬¬ä¹è¯¾-å›¾åƒæ¨¡ç³Š/#3é«˜æ–¯æ¨¡ç³Š)ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥åŸºäº[é«˜æ–¯é‡‘å­—å¡”](http://shichaoxin.com/2020/07/15/OpenCVåŸºç¡€-ç¬¬åäºŒè¯¾-å›¾åƒçš„ç¼©æ”¾/#31é«˜æ–¯é‡‘å­—å¡”)æ¥æ„å»ºé«˜æ–¯å·®åˆ†é‡‘å­—å¡”ï¼ˆdifference-of-Gaussianï¼ŒDOGï¼‰ï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/OpenCVSeries/Lesson36/36x2.png)

åŸç†ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯åŒä¸€octaveå†…ç›¸é‚»ä¸¤å±‚åšå‡æ³•ã€‚

æ­¤å¤–ï¼ŒSIFTçš„ä½œè€…è¿˜ç»™å‡ºäº†ä¸€äº›ç»éªŒå€¼ã€‚octaveçš„ä¸ªæ•°é€šå¸¸è®¾ç½®ä¸ºï¼š

$$o = [\log _2 (\min (M,N))] - 3$$

å…¶ä¸­ï¼Œ$o$ä¸ºoctaveçš„ä¸ªæ•°ï¼Œ$M,N$ä¸ºåŸå§‹å›¾åƒçš„é•¿å’Œå®½ã€‚æ¯ä¸ªoctaveå†…çš„å±‚æ•°é€šå¸¸è®¾ç½®ä¸ºï¼š

$$S = n +3$$

å…¶ä¸­ï¼Œ$S$ä¸ºæ¯ä¸ªoctaveå†…çš„å±‚æ•°ï¼Œ$n$è¡¨ç¤ºä»$n$å¹…å›¾åƒä¸­æå–ç‰¹å¾ã€‚è¿™ä¹ˆè®¡ç®—çš„åŸå› åœ¨äºï¼Œåç»­æ­¥éª¤åœ¨æå–æå€¼ç‚¹æ—¶éœ€è¦è€ƒè™‘ä¸Šä¸‹ä¸¤å±‚26é‚»åŸŸå†…çš„å€¼ï¼Œä»¥ä¸Šå›¾ä¸­çš„é«˜æ–¯å·®åˆ†é‡‘å­—å¡”ä¸ºä¾‹ï¼Œå¯¹äºæŸä¸ªoctaveï¼Œåªæœ‰ä¸­é—´ä¸¤å±‚æœ‰ä¸Šä¸‹ä¸¤å±‚ï¼Œæ‰€ä»¥æœ‰$n=2$ï¼Œé‚£ä¹ˆåœ¨[é«˜æ–¯é‡‘å­—å¡”](http://shichaoxin.com/2020/07/15/OpenCVåŸºç¡€-ç¬¬åäºŒè¯¾-å›¾åƒçš„ç¼©æ”¾/#31é«˜æ–¯é‡‘å­—å¡”)ä¸­ï¼Œæˆ‘ä»¬å°±å¯¹åº”éœ€è¦5å±‚ï¼Œå³$2+3$ã€‚

å› ä¸ºæˆ‘ä»¬å¸Œæœ›SIFTç‰¹å¾åœ¨é¢å¯¹å›¾åƒç¼©æ”¾æ—¶å…·æœ‰ä¸å˜æ€§ï¼Œè€Œ[é«˜æ–¯é‡‘å­—å¡”](http://shichaoxin.com/2020/07/15/OpenCVåŸºç¡€-ç¬¬åäºŒè¯¾-å›¾åƒçš„ç¼©æ”¾/#31é«˜æ–¯é‡‘å­—å¡”)åˆšå¥½å°±å¯ä»¥å¾ˆå¥½çš„æ¨¡æ‹Ÿè¿‘å¤§è¿œå°è¿™ä¸€æ¦‚å¿µï¼Œå¹¶ä¸”ç¬¦åˆè¿‘å¤„æ¸…æ™°ã€è¿œå¤„æ¨¡ç³Šçš„ç‰¹ç‚¹ï¼Œè¿™å’Œç°å®ä¸–ç•Œçš„è§†è§’æ˜¯ä¸€è‡´çš„ã€‚æ­¤å¤–ï¼Œé«˜æ–¯æ ¸æ˜¯å”¯ä¸€ä¸€ä¸ªå¯ä»¥æ¨¡æ‹Ÿè¿‘å¤„æ¸…æ™°ã€è¿œå¤„æ¨¡ç³Šçš„çº¿æ€§æ ¸ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿä¸èƒ½æ¢ç”¨å…¶ä»–å·ç§¯æ ¸ã€‚

åœ¨æ„å»º[é«˜æ–¯é‡‘å­—å¡”](http://shichaoxin.com/2020/07/15/OpenCVåŸºç¡€-ç¬¬åäºŒè¯¾-å›¾åƒçš„ç¼©æ”¾/#31é«˜æ–¯é‡‘å­—å¡”)æ—¶ï¼Œæ¯ä¸ªoctaveå†…ï¼Œä¸åŒå±‚çš„$\sigma$è®¾ç½®è§ä¸‹ï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/OpenCVSeries/Lesson36/36x3.png)

æˆ‘ä»¬ä»¤ï¼š

$$k = 2 ^{1/n}$$

å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å°†octave1çš„ç¬¬$n+1$å±‚çš„$k^n \sigma$ï¼Œä¹Ÿå°±æ˜¯$2\sigma$ï¼Œç”¨äºoctave2çš„èµ·å§‹ï¼Œåé¢çš„ä¾æ­¤ç±»æ¨ã€‚octave1ä¸­ç¬¬ä¸€å±‚æ‰€ç”¨çš„$\sigma$è®¾ä¸ºï¼š

$$\sigma _0 = \sqrt{1.6^2 - 0.5^2} = 1.52 $$

åŸå› åœ¨äºï¼Œå¯¹äºå®Œå…¨æ¸…æ™°çš„å›¾åƒï¼Œä½œè€…å¸Œæœ›ä½¿ç”¨$\sigma = 1.6$æ¥è¿›è¡Œç¬¬ä¸€å±‚çš„é«˜æ–¯æ¨¡ç³Šï¼Œä½†æ˜¯ç›¸æœºæ‹æ‘„çš„å›¾åƒé€šå¸¸ä¸æ˜¯å®Œå…¨æ¸…æ™°çš„ï¼Œå…¶è‡ªå¸¦ä¸€äº›æ¨¡ç³Šæ•ˆæœï¼Œä½œè€…ç»™å‡ºçš„è¿™ä¸ªæ¨¡ç³Šæ•ˆæœçš„ç»éªŒå€¼æ˜¯$\sigma=0.5$ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨$\sigma = 1.52$ï¼Œå†å åŠ ä¸Šç›¸æœºå›ºæœ‰çš„æ¨¡ç³Šï¼Œä¾¿å¯å¾—åˆ°é¢„æœŸçš„$\sigma = 1.6$çš„æ•ˆæœã€‚

é‚£ä¹ˆDOGä¸­æ¯å±‚çš„å°ºåº¦è¯¥æ€ä¹ˆç¡®å®šå‘¢ï¼Ÿæ ¹æ®åŸå§‹è®ºæ–‡ä¸­çš„æè¿°ï¼Œä¸€å¼ å›¾åƒçš„å°ºåº¦ç©ºé—´å¯ä»¥å®šä¹‰ä¸ºä¸€ä¸ªå‡½æ•°$L(x,y,\sigma)$ï¼Œè¯¥å‡½æ•°ç”±ä¸åŒå°ºåº¦ï¼ˆå³ä¸åŒ$\sigma$ï¼‰çš„é«˜æ–¯å‡½æ•°$G(x,y,\sigma)$ä¸è¾“å…¥å›¾åƒ$I(x,y)$å·ç§¯å¾—åˆ°ï¼š

$$L(x,y,\sigma) = G(x,y,\sigma) * I(x,y)$$

$*$è¡¨ç¤ºå·ç§¯æ“ä½œï¼Œä¸”æœ‰ï¼š

$$G(x,y,\sigma) = \frac{1}{2 \pi \sigma^2} e^{-(x^2+y^2)/2\sigma^2}$$

DOGçš„ç”Ÿæˆæˆ‘ä»¬ç”¨å‡½æ•°$D(x,y,\sigma)$æ¥è¡¨ç¤ºï¼Œå…¶å®å°±æ˜¯è®¡ç®—ä¸¤ä¸ªç›¸é‚»å°ºåº¦çš„å·®å¼‚ï¼ˆå‡è®¾ç›¸é‚»å°ºåº¦å·®äº†$k$å€ï¼‰ï¼š

$$\begin{align} D(x,y,\sigma) &= (G(x,y,k\sigma)-G(x,y,\sigma)) * I(x,y) \\&= L(x,y,k\sigma) - L(x,y,\sigma) \end{align} $$

## 1.2.å…³é”®ç‚¹çš„ç²¾ç¡®å®šä½

### 1.2.1.é˜ˆå€¼åŒ–

æˆ‘ä»¬åªè€ƒè™‘é«˜æ–¯å·®åˆ†é‡‘å­—å¡”ä¸­ç»å¯¹å€¼å¤§äº$0.5T/n$ï¼ˆ$T$é€šå¸¸è®¾ç½®ä¸º0.04ï¼Œ$n$çš„å«ä¹‰å’Œ1.1éƒ¨åˆ†ç›¸åŒï¼‰çš„ç‚¹ã€‚ç»å¯¹å€¼å°äº$0.5T/n$çš„ç‚¹é€šå¸¸è¢«è®¤ä¸ºæ˜¯å™ªå£°ã€‚

### 1.2.2.åœ¨é«˜æ–¯å·®åˆ†é‡‘å­—å¡”ä¸­æ‰¾æå€¼

åœ¨ç»è¿‡1.2.1éƒ¨åˆ†ç­›é€‰åçš„ç‚¹ä¸­è¿›ä¸€æ­¥å¯»æ‰¾æå€¼ç‚¹ï¼Œå³å…¶åœ¨26é‚»åŸŸå†…æ˜¯æœ€å¤§å€¼æˆ–æœ€å°å€¼ã€‚

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/OpenCVSeries/Lesson36/36x4.png)

ä½†æ˜¯è¿™ä¸€æ­¥æ˜¯åŸºäºç¦»æ•£ç©ºé—´æ‰¾åˆ°çš„æå€¼ç‚¹ï¼Œå¯èƒ½å¹¶ä¸æ˜¯çœŸæ­£çš„æå€¼ç‚¹æ‰€åœ¨çš„ä½ç½®ï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/OpenCVSeries/Lesson36/36x5.png)

>ç¦»æ•£ç©ºé—´å¯ä»¥ä»ä¸¤æ–¹é¢æ¥ç†è§£ï¼š
>
>1. å°±å›¾åƒçš„$x,y$æ–¹å‘æ¥è¯´ï¼Œåƒç´ åæ ‡éƒ½æ˜¯æ•´æ•°ã€‚
>2. ä»$\sigma$æ–¹å‘æ¥è¯´ï¼Œå°±æ˜¯æ²¿ç€å°ºåº¦çš„æ–¹å‘ï¼Œç›¸é‚»ä¸¤å±‚çš„$\sigma$å·®äº†$k$å€ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹å‘ä¹Ÿæ˜¯ç¦»æ•£çš„ã€‚

æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹æå€¼ç‚¹çš„ä½ç½®è¿›è¡Œè¿›ä¸€æ­¥çš„ä¼˜åŒ–ï¼ˆå³å¯»æ‰¾äºšåƒç´ çº§åˆ«çš„æå€¼ç‚¹ï¼‰ã€‚

### 1.2.3.è°ƒæ•´æå€¼ç‚¹ä½ç½®

åœ¨æ£€æµ‹åˆ°çš„æå€¼ç‚¹$X_0=(x_0,y_0,\sigma_0)^T$å¤„åšä¸‰å…ƒäºŒé˜¶[æ³°å‹’å±•å¼€](http://shichaoxin.com/2019/07/10/æ•°å­¦åŸºç¡€-ç¬¬å…­è¯¾-æ¢¯åº¦ä¸‹é™æ³•å’Œç‰›é¡¿æ³•/#1æ³°å‹’å…¬å¼)ï¼š

$$\begin{align} f \left( \begin{bmatrix} x \\ y \\ \sigma \\ \end{bmatrix} \right) &= f \left( \begin{bmatrix} x_0 \\ y_0 \\ \sigma_0 \\ \end{bmatrix} \right) + \begin{bmatrix} \frac{\partial f}{\partial x},\frac{\partial f}{\partial y},\frac{\partial f}{\partial \sigma} \end{bmatrix} \left( \begin{bmatrix} x \\ y \\ \sigma \\ \end{bmatrix} - \begin{bmatrix} x_0 \\ y_0 \\ \sigma_0 \\ \end{bmatrix} \right) \\&+ \frac{1}{2} \left( \begin{bmatrix} x \\ y \\ \sigma \\ \end{bmatrix} - \begin{bmatrix} x_0 \\ y_0 \\ \sigma_0 \\ \end{bmatrix} \right)^T \begin{bmatrix} \frac{\partial^2 f}{\partial x \partial x},\frac{\partial^2 f}{\partial x \partial y},\frac{\partial^2 f}{\partial x \partial \sigma} \\ \frac{\partial^2 f}{\partial x \partial y},\frac{\partial^2 f}{\partial y \partial y},\frac{\partial^2 f}{\partial y \partial \sigma} \\ \frac{\partial^2 f}{\partial x \partial \sigma},\frac{\partial^2 f}{\partial y \partial \sigma},\frac{\partial^2 f}{\partial \sigma \partial \sigma} \end{bmatrix}  \left( \begin{bmatrix} x \\ y \\ \sigma \\ \end{bmatrix} - \begin{bmatrix} x_0 \\ y_0 \\ \sigma_0 \\ \end{bmatrix} \right)  \end{align}$$

å†™æˆçŸ¢é‡å½¢å¼ï¼š

$$f(\mathbf{X}) = f(\mathbf{X}_0) + \frac{\partial f^T}{\partial \mathbf{X}} \hat{\mathbf{X}} + \frac{1}{2} \hat{\mathbf{X}}^T \frac{\partial^2 f}{\partial \mathbf{X}^2} \hat{\mathbf{X}}$$

ç„¶åä½¿ç”¨[ç‰›é¡¿æ³•](http://shichaoxin.com/2019/07/10/æ•°å­¦åŸºç¡€-ç¬¬å…­è¯¾-æ¢¯åº¦ä¸‹é™æ³•å’Œç‰›é¡¿æ³•/#3ç‰›é¡¿æ³•)æ±‚å¾—è°ƒæ•´åçš„æå€¼ç‚¹ã€‚æ»¡è¶³ä»¥ä¸‹ä»»æ„ä¸€ä¸ªæ¡ä»¶åˆ™[ç‰›é¡¿æ³•](http://shichaoxin.com/2019/07/10/æ•°å­¦åŸºç¡€-ç¬¬å…­è¯¾-æ¢¯åº¦ä¸‹é™æ³•å’Œç‰›é¡¿æ³•/#3ç‰›é¡¿æ³•)è¿­ä»£ç»ˆæ­¢ï¼š

1. æ–°æ±‚å¾—çš„æå€¼ç‚¹å’Œä¸Šä¸€ä¸ªæå€¼ç‚¹åœ¨ä¸‰ä¸ªæ–¹å‘ä¸Šçš„å·®å¼‚éƒ½å°äº0.5ã€‚æ­¤æ—¶è®¤ä¸ºç®—æ³•æ”¶æ•›ï¼Œä¸å†è¿­ä»£ã€‚
2. å¦‚æœè¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œä¾ç„¶æ²¡æœ‰æ»¡è¶³æ¡ä»¶1ï¼Œåˆ™è¿­ä»£ç»ˆæ­¢å¹¶èˆå¼ƒè¯¥ç‚¹ã€‚

æ­¤å¤–ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶1ï¼Œä½†æ˜¯å¾—åˆ°çš„æ–°æå€¼ç‚¹å’Œæœ€åˆå§‹çš„æå€¼ç‚¹$X_0$è·ç¦»è¿‡è¿œï¼Œè¿™ä¹Ÿæ˜¯ä¸åˆç†çš„ï¼Œå› ä¸º[æ³°å‹’å±•å¼€](http://shichaoxin.com/2019/07/10/æ•°å­¦åŸºç¡€-ç¬¬å…­è¯¾-æ¢¯åº¦ä¸‹é™æ³•å’Œç‰›é¡¿æ³•/#1æ³°å‹’å…¬å¼)æ˜¯å¯¹$X_0$é™„è¿‘çš„å‡½æ•°è¿‘ä¼¼ï¼Œæ‰€ä»¥è¿™ç§ç‚¹ä¹Ÿä¼šè¢«èˆå¼ƒã€‚

>å›¾åƒä¸­å¯¼æ•°çš„è®¡ç®—è§ï¼š[é“¾æ¥](http://shichaoxin.com/2021/06/29/OpenCVåŸºç¡€-ç¬¬äºŒåè¯¾-åƒç´ é‡æ˜ å°„/#33inter_cubic)ã€‚

### 1.2.4.èˆå»ä½å¯¹æ¯”åº¦çš„ç‚¹

è‹¥ï¼š

$$\lvert f(\mathbf{X}) \rvert < \frac{T}{n}$$

åˆ™èˆå»ç‚¹$\mathbf{X}$ï¼ˆå› ä¸ºè¿™æ ·çš„ç‚¹ä¹Ÿä¼šè¢«è®¤ä¸ºæ˜¯å™ªå£°ï¼‰ã€‚$T$çš„å®šä¹‰åŒç¬¬1.2.1éƒ¨åˆ†ï¼Œ$n$çš„å®šä¹‰åŒç¬¬1.1éƒ¨åˆ†ã€‚$\mathbf{X}$ä¸ºç»è¿‡ç¬¬1.2.3éƒ¨åˆ†ç­›é€‰åå¾—åˆ°çš„æå€¼ç‚¹ã€‚$f$çš„è®¡ç®—è§ç¬¬1.2.3éƒ¨åˆ†ã€‚

### 1.2.5.è¾¹ç¼˜æ•ˆåº”çš„å»é™¤

SIFTæƒ³è¦æå–çš„ç‰¹å¾ç‚¹ä¸ºè§’ç‚¹è€Œéè¾¹ç¼˜ï¼Œè€Œå‰é¢ä¸€ç³»åˆ—æ“ä½œåªèƒ½ä¿è¯å–åˆ°ç°åº¦å€¼å˜æ¢å‰§çƒˆçš„ç‚¹ï¼Œè€Œè¾¹ç¼˜ç‚¹åŒæ ·ç¬¦åˆè¿™ä¸€ç‰¹å¾ï¼Œå› æ­¤æˆ‘ä»¬å°†é€šè¿‡ä»¥ä¸‹æ–¹å¼å»é™¤è¾¹ç¼˜ç‚¹ã€‚

ğŸ‘‰è®¡ç®—[é»‘å¡çŸ©é˜µ](http://shichaoxin.com/2019/07/10/æ•°å­¦åŸºç¡€-ç¬¬å…­è¯¾-æ¢¯åº¦ä¸‹é™æ³•å’Œç‰›é¡¿æ³•/#44hessian-matrix)ï¼š

$$H(x,y) = \begin{bmatrix} D_{xx}(x,y) & D_{xy}(x,y) \\ D_{yx}(x,y) & D_{yy}(x,y) \end{bmatrix} = \begin{bmatrix} \frac{\partial^2 f}{\partial x \partial x} & \frac{\partial^2 f}{\partial x \partial y} \\ \frac{\partial^2 f}{\partial y \partial x} & \frac{\partial^2 f}{\partial y \partial y} \end{bmatrix}$$

ğŸ‘‰è‹¥çŸ©é˜µ[è¡Œåˆ—å¼](http://shichaoxin.com/2019/08/27/æ•°å­¦åŸºç¡€-ç¬¬ä¸ƒè¯¾-çŸ©é˜µä¸å‘é‡/#32è¡Œåˆ—å¼)$Det(H) < 0$ï¼Œåˆ™èˆå»è¯¥ç‰¹å¾ç‚¹ã€‚

ğŸ‘‰è‹¥çŸ©é˜µ[è¡Œåˆ—å¼](http://shichaoxin.com/2019/08/27/æ•°å­¦åŸºç¡€-ç¬¬ä¸ƒè¯¾-çŸ©é˜µä¸å‘é‡/#32è¡Œåˆ—å¼)å’Œ[è¿¹](http://shichaoxin.com/2019/08/27/æ•°å­¦åŸºç¡€-ç¬¬ä¸ƒè¯¾-çŸ©é˜µä¸å‘é‡/#11çŸ©é˜µçš„è¿¹trace)ä¸æ»¡è¶³ï¼š$\frac{Tr(H)^2}{Det(H)} < \frac{(\gamma_0 + 1)^2}{\gamma_0}$ï¼Œåˆ™èˆå»è¯¥ç‰¹å¾ç‚¹ï¼Œ$\gamma_0$ä¸ºæœ‰å®é™…æ„ä¹‰çš„ç»éªŒå€¼ï¼Œé€šå¸¸è®¾å®šä¸º10ã€‚

è¿™æ ·åšçš„åŸç†åœ¨äºï¼šè¾¹ç¼˜åœ¨å›¾åƒä¸­è¡¨ç°ä¸ºä¸€æ¡çº¿ï¼Œåœ¨å‚ç›´äºçº¿çš„æ–¹å‘ç°åº¦å€¼å˜åŒ–å‰§çƒˆï¼Œè€Œåœ¨æ²¿ç€çº¿çš„æ–¹å‘ç°åº¦å€¼å˜åŒ–è¾ƒå°ï¼›è€Œè§’ç‚¹åˆ™åœ¨å¤šä¸ªæ–¹å‘ä¸Šç°åº¦å€¼å˜åŒ–éƒ½æ¯”è¾ƒå‰§çƒˆã€‚[é»‘å¡çŸ©é˜µ](http://shichaoxin.com/2019/07/10/æ•°å­¦åŸºç¡€-ç¬¬å…­è¯¾-æ¢¯åº¦ä¸‹é™æ³•å’Œç‰›é¡¿æ³•/#44hessian-matrix)å®é™…ä¸Šæ˜¯å‡½æ•°çš„äºŒé˜¶åå¯¼æ„æˆçš„çŸ©é˜µï¼Œå¯ä»¥ååº”å‡½æ•°çš„æ›²ç‡å˜åŒ–çŠ¶å†µï¼Œå…¶åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªäºŒæ¬¡å‹çŸ©é˜µï¼ˆè§æœ¬æ–‡ç¬¬2éƒ¨åˆ†ï¼‰ï¼Œæœ‰å¦‚ä¸‹æ€§è´¨ï¼š

1. å‡å®šäºŒæ¬¡å‹çŸ©é˜µ$H$çš„ä¸¤ä¸ª[ç‰¹å¾å€¼](http://shichaoxin.com/2020/08/12/æ•°å­¦åŸºç¡€-ç¬¬åäº”è¯¾-çŸ©é˜µçš„ç›¸ä¼¼å˜æ¢å’Œç›¸åˆå˜æ¢/#121çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡)ä¸º$\alpha,\beta$ï¼Œåˆ™$Det(H)=D_{xx}D_{yy}-(D_{xy})^2=\alpha \beta$ï¼Œ$Tr(H)=D_{xx}+D_{yy}=\alpha+\beta$ã€‚
2. å®äºŒæ¬¡å‹çŸ©é˜µçš„[ç‰¹å¾å€¼](http://shichaoxin.com/2020/08/12/æ•°å­¦åŸºç¡€-ç¬¬åäº”è¯¾-çŸ©é˜µçš„ç›¸ä¼¼å˜æ¢å’Œç›¸åˆå˜æ¢/#121çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡)å¼‚å·æ—¶ï¼Œè¯¥çŸ©é˜µä¸º[ä¸å®šçŸ©é˜µ](http://shichaoxin.com/2019/08/27/æ•°å­¦åŸºç¡€-ç¬¬ä¸ƒè¯¾-çŸ©é˜µä¸å‘é‡/#29æ­£å®šçŸ©é˜µåŠæ­£å®šçŸ©é˜µè´Ÿå®šçŸ©é˜µåŠè´Ÿå®šçŸ©é˜µ)ï¼Œå½“[é»‘å¡çŸ©é˜µ](http://shichaoxin.com/2019/07/10/æ•°å­¦åŸºç¡€-ç¬¬å…­è¯¾-æ¢¯åº¦ä¸‹é™æ³•å’Œç‰›é¡¿æ³•/#44hessian-matrix)ä¸º[ä¸å®šçŸ©é˜µ](http://shichaoxin.com/2019/08/27/æ•°å­¦åŸºç¡€-ç¬¬ä¸ƒè¯¾-çŸ©é˜µä¸å‘é‡/#29æ­£å®šçŸ©é˜µåŠæ­£å®šçŸ©é˜µè´Ÿå®šçŸ©é˜µåŠè´Ÿå®šçŸ©é˜µ)æ—¶ï¼Œè¯¥ä¸´ç•Œç‚¹ä¸ºéæå€¼ç‚¹ã€‚
3. [é»‘å¡çŸ©é˜µ](http://shichaoxin.com/2019/07/10/æ•°å­¦åŸºç¡€-ç¬¬å…­è¯¾-æ¢¯åº¦ä¸‹é™æ³•å’Œç‰›é¡¿æ³•/#44hessian-matrix)çš„[ç‰¹å¾å€¼](http://shichaoxin.com/2020/08/12/æ•°å­¦åŸºç¡€-ç¬¬åäº”è¯¾-çŸ©é˜µçš„ç›¸ä¼¼å˜æ¢å’Œç›¸åˆå˜æ¢/#121çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡)æ ‡å®šäº†å‡½æ•°åœ¨ç›¸åº”[ç‰¹å¾å‘é‡](http://shichaoxin.com/2020/08/12/æ•°å­¦åŸºç¡€-ç¬¬åäº”è¯¾-çŸ©é˜µçš„ç›¸ä¼¼å˜æ¢å’Œç›¸åˆå˜æ¢/#121çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡)æ–¹å‘ä¸Šå˜åŒ–çš„å¿«æ…¢ã€‚

ç”±æ€§è´¨1å’Œ2ï¼Œæˆ‘ä»¬å¯ä»¥æ¨å¯¼å‡ºå½“$Det(H)<0$æ—¶ï¼Œç‰¹å¾ç‚¹ä¸ºéæå€¼ç‚¹ï¼Œæ‰€ä»¥èˆå»è¯¥ç‚¹ã€‚

é’ˆå¯¹æ€§è´¨1å’Œ3ï¼Œæˆ‘ä»¬è®¾$\alpha>\beta$ä¸”$\alpha = \gamma \beta$ï¼Œæœ‰$\frac{Tr(H)^2}{Det(H)}=\frac{(\alpha+\beta)^2}{\alpha \beta}=\frac{(\gamma+1)^2}{\gamma}$ã€‚ç»è¿‡$Det(H)<0$çš„ç­›é€‰åï¼Œå¾—åˆ°çš„ç‰¹å¾ç‚¹çš„ä¸¤ä¸ª[ç‰¹å¾å€¼](http://shichaoxin.com/2020/08/12/æ•°å­¦åŸºç¡€-ç¬¬åäº”è¯¾-çŸ©é˜µçš„ç›¸ä¼¼å˜æ¢å’Œç›¸åˆå˜æ¢/#121çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡)$\alpha,\beta$éƒ½æ˜¯åŒå·çš„ï¼Œå³$\gamma>1$ã€‚å‡½æ•°$\frac{(\gamma+1)^2}{\gamma}=\gamma+\frac{1}{\gamma}+2$æ˜¯ä¸€ä¸ªå¯¹å‹¾å‡½æ•°ï¼ˆè§æœ¬æ–‡ç¬¬3éƒ¨åˆ†ï¼‰ï¼Œå› å…¶$a>0,b>0$ï¼Œæ‰€ä»¥å›¾åƒåˆ†å¸ƒåœ¨ç¬¬ä¸€ã€ä¸‰è±¡é™ï¼Œåˆå½“$\gamma>1$æ—¶ï¼Œå…¶æ˜¯å•å¢çš„ã€‚æ‰€ä»¥å½“$\gamma$è¶Šå¤§ï¼ˆå³$\frac{Tr(H)^2}{Det(H)}$è¶Šå¤§ï¼‰ï¼Œè¯´æ˜$\alpha$å’Œ$\beta$çš„å·®å¼‚è¶Šå¤§ï¼Œå³å‡½æ•°åœ¨è¯¥ç‚¹ä¸åŒæ–¹å‘ä¸Šçš„å˜åŒ–éå¸¸ä¸å‡åŒ€ï¼Œç±»ä¼¼äºè¾¹ç¼˜ï¼Œæ‰€ä»¥æ­¤æ—¶ä¹Ÿä¼šèˆå»è¯¥ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¸Œæœ›$\frac{Tr(H)^2}{Det(H)}$å°ä¸€ç‚¹ï¼Œäºæ˜¯æœ‰äº†$\frac{Tr(H)^2}{Det(H)} < \frac{(\gamma_0 + 1)^2}{\gamma_0}$è¿™ä¸€åˆ¤å®šæ¡ä»¶ã€‚

## 1.3.ç¡®å®šå…³é”®ç‚¹ä¸»æ–¹å‘

å‡è®¾ç»è¿‡ç¬¬1.2éƒ¨åˆ†ä¹‹åï¼Œåœ¨é«˜æ–¯å·®åˆ†é‡‘å­—å¡”ä¸­ç¡®å®šäº†æŸä¸€æå€¼ç‚¹çš„åæ ‡ä¸º$(x',y',\sigma')$ï¼Œè®¾å…¶åœ¨é«˜æ–¯é‡‘å­—å¡”ä¸­çš„åæ ‡ä¸º$(x',y',\sigma'')$ï¼Œå…¶ä¸­$\sigma''$ä¸ºé«˜æ–¯é‡‘å­—å¡”ä¸­æœ€æ¥è¿‘$\sigma'$çš„å°ºåº¦ï¼Œç„¶åæˆ‘ä»¬åœ¨é«˜æ–¯é‡‘å­—å¡”ä¸­å°ºåº¦ä¸º$\sigma''$çš„é‚£ä¸€å±‚ä¸­ä»¥$(x',y')$ä¸ºä¸­å¿ƒï¼Œ$1.5\sigma''$ä¸ºåŠå¾„ï¼Œç»Ÿè®¡èŒƒå›´å†…æ‰€æœ‰åƒç´ ç‚¹çš„æ¢¯åº¦æ–¹å‘ï¼ˆgradient orientationï¼‰ä»¥åŠæ¢¯åº¦å¹…å€¼ï¼ˆå³æ¨¡ï¼Œgradient magnitudeï¼‰ã€‚

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/OpenCVSeries/Lesson36/36x8.png)

æ¢¯åº¦å¹…å€¼çš„è®¡ç®—ï¼š

$$m(x,y)=\sqrt{(L(x+1,y)-L(x-1,y))^2+(L(x,y+1)-L(x,y-1))^2}$$

æ¢¯åº¦æ–¹å‘çš„è®¡ç®—ï¼š

$$\theta(x,y) = tan^{-1}((L(x,y+1)-L(x,y-1))/(L(x+1,y)-L(x-1,y)))$$

åœ¨ç»§ç»­ä¸‹ä¸€æ­¥ä¹‹å‰ï¼Œé€šå¸¸è¿˜ä¼šå¯¹æ¢¯åº¦å¹…å€¼åšä¸€ä¸ªé«˜æ–¯åŠ æƒï¼ˆå°ºåº¦ä½¿ç”¨æå€¼ç‚¹çš„å°ºåº¦ï¼‰ï¼š

$$m(x,y) = m(x,y) * G(x,y,1.5\sigma')$$

ç„¶åæ¯10åº¦ä¸ºä¸€ç»„ï¼Œå°†360åº¦åˆ†ä¸º36ç»„ï¼Œç»Ÿè®¡æ¯ç»„æ¢¯åº¦æ–¹å‘å†…æ¢¯åº¦å¹…å€¼çš„å’Œï¼ˆç®€åŒ–ç¤ºæ„å›¾è§ä¸‹ï¼‰ï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/OpenCVSeries/Lesson36/36x9.png)

æ¢¯åº¦å¹…å€¼å’Œæœ€é«˜çš„æ–¹å‘ç¡®å®šä¸ºè¯¥å…³é”®ç‚¹çš„ä¸»æ–¹å‘ï¼Œæ¢¯åº¦å¹…å€¼å’Œå¤§äºæœ€å¤§æ¢¯åº¦å¹…å€¼å’Œçš„80%ä»¥ä¸Šçš„æ–¹å‘ä¸ºè¯¥å…³é”®ç‚¹çš„è¾…æ–¹å‘ã€‚å¯¹äºæ—¢æœ‰ä¸»æ–¹å‘åˆæœ‰è¾…æ–¹å‘çš„å…³é”®ç‚¹ï¼Œæˆ‘ä»¬é€šå¸¸å°†å…¶çœ‹ä½œæ˜¯åŒä¸€ä½ç½®ä¸Šçš„å¤šä¸ªå…³é”®ç‚¹ï¼Œæ¯ä¸ªå…³é”®ç‚¹åˆ†é…ä¸€ä¸ªæ–¹å‘ï¼ˆä¸»æ–¹å‘æˆ–è¾…æ–¹å‘ï¼‰ã€‚

## 1.4.æ„å»ºå…³é”®ç‚¹æè¿°ç¬¦

åœ¨ä¹‹å‰çš„æ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬ç¡®å®šäº†å…³é”®ç‚¹çš„ä½ç½®ä»¥åŠæ–¹å‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•åŒ¹é…ä¸¤å¹…å›¾åƒä¸­çš„å…³é”®ç‚¹å‘¢ï¼ŸSIFTæ˜¯é€šè¿‡æè¿°ç¬¦æ¥å®Œæˆå…³é”®ç‚¹åŒ¹é…çš„ã€‚æè¿°ç¬¦é€šå¸¸æ˜¯ä¸€ä¸ª128ç»´çš„å‘é‡ï¼Œæ„å»ºæ­¥éª¤å¦‚ä¸‹ï¼š

ğŸ‘‰1.è®¡ç®—å…³é”®ç‚¹å‘¨å›´åŒºåŸŸçš„åŠå¾„ï¼š

$$r=m \sigma \frac{d+1}{2} \sqrt{2}$$

$r$å°±æ˜¯ä¸‹å›¾ä»¥å…³é”®ç‚¹ä¸ºåœ†å¿ƒçš„ç»¿è‰²åœ†åœˆçš„åŠå¾„ã€‚$m$é€šå¸¸è®¾ä¸º3ï¼Œ$d$é€šå¸¸è®¾ä¸º4ã€‚$\sigma$ä¸ºå…³é”®ç‚¹çš„å°ºåº¦ã€‚$m\sigma$ä¸ºä¸€ä¸ªå­å—çš„è¾¹é•¿ï¼ˆå¯ä»¥ç†è§£ä¸ºå­å—çš„å¤§å°ä¸º$m\sigma \times m\sigma$ä¸ªåƒç´ ç‚¹ï¼‰ã€‚

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/OpenCVSeries/Lesson36/36x11.png)

ğŸ‘‰2.å°†è®¡ç®—åŒºåŸŸæ—‹è½¬è‡³ä¸»æ–¹å‘ï¼šå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚è¿™ä¸€æ­¥ä½“ç°äº†SIFTçš„æ—‹è½¬ä¸å˜æ€§ã€‚å‡è®¾ä¸»æ–¹å‘ä¸º$\theta$ï¼Œæ—‹è½¬ååƒç´ ç‚¹çš„æ–°åæ ‡ä¸ºï¼š

$$\begin{bmatrix} \hat{x} \\ \hat{y} \end{bmatrix} = \begin{bmatrix} \cos \theta & -\sin \theta \\ \sin \theta & \cos \theta \\ \end{bmatrix} \times \begin{bmatrix} x \\ y \\  \end{bmatrix} \quad x,y \in [-r,r]$$

ç”±äºæ—‹è½¬äº§ç”Ÿçš„åƒç´ å€¼ä¸¢å¤±ï¼ŒåŸè®ºæ–‡æ˜¯é€šè¿‡ä¸‰çº¿æ€§æ’å€¼æ¥è§£å†³çš„ã€‚

ğŸ‘‰3.åœ¨æ—‹è½¬åçš„å®é™…è®¡ç®—åŒºåŸŸå†…å¯¹æ¯ä¸ªåƒç´ ç‚¹æ±‚å…¶æ¢¯åº¦å¹…å€¼å’Œæ–¹å‘ï¼Œç„¶åå¯¹æ¯ä¸ªæ¢¯åº¦å¹…å€¼ä¹˜ä»¥é«˜æ–¯æƒé‡å‚æ•°ï¼Œç”Ÿæˆæ–¹å‘ç›´æ–¹å›¾ã€‚è¿™ä¸€æ­¥å’Œç¬¬1.3éƒ¨åˆ†ç±»ä¼¼ã€‚

ğŸ‘‰4.åœ¨æ—‹è½¬åçš„å®é™…è®¡ç®—åŒºåŸŸå†…ï¼Œç”¨$2\times 2$å¤§å°çš„çª—å£éå†æ»‘åŠ¨ï¼Œæ¯æ¬¡çª—å£çš„ä¸­å¿ƒéƒ½ä½œä¸ºä¸€ä¸ªç§å­ç‚¹ï¼Œç»Ÿè®¡åœ¨çª—å£èŒƒå›´å†…æ‰€æœ‰åƒç´ ç‚¹åœ¨8ä¸ªæ¢¯åº¦æ–¹å‘ä¸Šçš„æ¢¯åº¦å¹…å€¼ï¼ŒæŒ‰ç…§8ä¸ªæ–¹å‘çš„é¡ºåºï¼Œåˆ—å‡ºå¯¹åº”çš„8ä¸ªæ¢¯åº¦å¹…å€¼ï¼Œå°±ç›¸å½“äºæ˜¯ä¸€ä¸ªç§å­ç‚¹å¯¹åº”ä¸€ä¸ª8ç»´å‘é‡ã€‚é‚£ä¹ˆ$5 \times 5$ä¸ªå­å—ï¼Œä¸€å…±å¯ä»¥äº§ç”Ÿ$4\times 4=16$ä¸ªç§å­ç‚¹ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”ç€$16\times 8 = 128$ç»´å‘é‡ï¼Œå³è¯¥å…³é”®ç‚¹çš„æè¿°ç¬¦ã€‚

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/OpenCVSeries/Lesson36/36x12.png)

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/OpenCVSeries/Lesson36/36x10.png)

ç¬¬1.4éƒ¨åˆ†æ•´ä¸ªæ“ä½œä¹Ÿéƒ½æ˜¯åŸºäºé«˜æ–¯é‡‘å­—å¡”ï¼Œè€Œä¸æ˜¯é«˜æ–¯å·®åˆ†é‡‘å­—å¡”ã€‚

# 2.äºŒæ¬¡å‹åŠå…¶çŸ©é˜µ

å«æœ‰$n$ä¸ªå˜é‡$x_1,x_2,...,x_n$çš„äºŒæ¬¡é½æ¬¡å¤šé¡¹å¼ï¼š

$$\begin{align} f(x_1,x_2,...,x_n) &= a_{11}x_1^2 + 2a_{12}x_1x_2+2a_{13}x_1x_3+\cdots + 2a_{1n}x_1x_n \\&\quad +  a_{22}x_2^2+2a_{23}x_2x_3+\cdots+2a_{2n}x_2x_n \\&\quad + a_{33}x_3^2+\cdots + 2a_{3n}x_3x_n \\&\quad + \cdots + a_{nn} x_n^2  \end{align}$$

ç§°ä¸º$n$å…ƒäºŒæ¬¡å‹ï¼Œç®€ç§°ä¸º**äºŒæ¬¡å‹**ã€‚

åªå«å¹³æ–¹é¡¹çš„äºŒæ¬¡å‹ï¼Œå³å½¢å¦‚ï¼š

$$f(x_1,x_2,...,x_n)=d_1x_1^2+d_2x_2^2+\cdots+d_nx_n^2$$

ç§°ä¸ºäºŒæ¬¡å‹çš„æ ‡å‡†å½¢ï¼ˆæˆ–æ³•å¼ï¼‰ã€‚

ğŸ‘‰äºŒæ¬¡å‹çš„çŸ©é˜µè¡¨ç¤ºæ³•ï¼š

è®¾$a_{ij}=a_{ji}$ï¼Œ

$$\begin{align} f(x_1,x_2,...,x_n) &= a_{11}x_1^2 + 2a_{12}x_1x_2+2a_{13}x_1x_3+\cdots + 2a_{1n}x_1x_n \\&\quad +  a_{22}x_2^2+2a_{23}x_2x_3+\cdots+2a_{2n}x_2x_n \\&\quad + a_{33}x_3^2+\cdots + 2a_{3n}x_3x_n \\&\quad + \cdots + a_{nn} x_n^2 \\&= \begin{bmatrix} x_1 & x_2 & \cdots & x_n \\ \end{bmatrix} \begin{bmatrix} a_{11} & a_{12} & \cdots & a_{1n} \\ a_{21} & a_{22} & \cdots & a_{2n} \\ \vdots & \vdots & \ddots & \vdots \\ a_{n1} & a_{n2} & \cdots & a_{nn} \\ \end{bmatrix} \begin{bmatrix} x_1 \\ x_2 \\ \vdots \\ x_n \end{bmatrix} \\&= \mathbf{X}^T \mathbf{AX} \\ \end{align}$$

äºŒæ¬¡å‹çš„çŸ©é˜µæ˜¯å®[å¯¹ç§°çŸ©é˜µ](http://shichaoxin.com/2019/08/27/æ•°å­¦åŸºç¡€-ç¬¬ä¸ƒè¯¾-çŸ©é˜µä¸å‘é‡/#25å¯¹ç§°çŸ©é˜µå’Œåå¯¹ç§°çŸ©é˜µ)ã€‚

# 3.å¯¹å‹¾å‡½æ•°

å½¢å¦‚ï¼š

$$f(x)=ax+\frac{b}{x}, (a\cdot b>0)$$

çš„å‡½æ•°ç§°ä¸º**å¯¹å‹¾å‡½æ•°**ã€‚

å®šä¹‰åŸŸï¼š$\\{ x \mid x \neq 0 \\}$ã€‚

å€¼åŸŸï¼š$(-\infty, -2\sqrt{ab}] \cup [2\sqrt{ab},+\infty)$ã€‚

å½“$a>0,b>0$æ—¶ï¼Œå›¾åƒåœ¨ç¬¬ä¸€ã€ä¸‰è±¡é™ï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/OpenCVSeries/Lesson36/36x6.png)

é¡¶ç‚¹åæ ‡ï¼š$A=(\sqrt{\frac{b}{a}},2\sqrt{ab}),A'=(-\sqrt{\frac{b}{a}},-2\sqrt{ab})$ã€‚

å½“$a<0,b<0$æ—¶ï¼Œå›¾åƒåœ¨ç¬¬äºŒã€å››è±¡é™ï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/OpenCVSeries/Lesson36/36x7.png)

é¡¶ç‚¹åæ ‡ï¼š$A=(-\sqrt{\frac{b}{a}},2\sqrt{ab}),A'=(\sqrt{\frac{b}{a}},-2\sqrt{ab})$ã€‚

# 4.`cv::xfeatures2d::SIFT::create`

```c++
static Ptr<SIFT> cv::xfeatures2d::SIFT::create	(	
	int 	nfeatures = 0,
	int 	nOctaveLayers = 3,
	double 	contrastThreshold = 0.04,
	double 	edgeThreshold = 10,
	double 	sigma = 1.6 
)	
```

å‚æ•°è¯¦è§£ï¼š

1. `nfeatures`ï¼šç‰¹å¾çš„æ•°é‡ï¼Œå³å…³é”®ç‚¹çš„ä¸ªæ•°ã€‚ç‰¹å¾ä¼šæŒ‰ç…§å…¶å„è‡ªçš„å¾—åˆ†ä»é«˜åˆ°ä½æ’åˆ—ï¼Œå–å‰nfeaturesä¸ªç‰¹å¾ã€‚ç‰¹å¾çš„å¾—åˆ†é€šè¿‡å±€éƒ¨å¯¹æ¯”åº¦è®¡ç®—å¾—åˆ°ã€‚
2. `nOctaveLayers`ï¼šæ¯ä¸ªoctaveå†…çš„å±‚æ•°ï¼Œå³ç¬¬1.1éƒ¨åˆ†æåˆ°çš„$n$ã€‚é»˜è®¤å€¼ä¸º3ï¼Œä¹Ÿæ˜¯åŸè®ºæ–‡ä¸­ä½¿ç”¨çš„å€¼ã€‚è€Œoctaveçš„æ•°é‡åˆ™æ˜¯é€šè¿‡å›¾åƒåˆ†è¾¨ç‡è‡ªåŠ¨ç®—å‡ºæ¥çš„ã€‚
3. `contrastThreshold`ï¼šå³ç¬¬1.2.1éƒ¨åˆ†å’Œç¬¬1.2.4éƒ¨åˆ†ç”¨åˆ°çš„$T$ã€‚
4. `edgeThreshold`ï¼šå³ç¬¬1.2.5éƒ¨åˆ†ä¸­çš„$\gamma_0$ã€‚
5. `sigma`ï¼šå³ç¬¬1.1éƒ¨åˆ†ä¸­çš„$\sigma_0$ã€‚

ä¸¾ä¸ªä¾‹å­ï¼ŒSIFTæ£€æµ‹åˆ°çš„å…³é”®ç‚¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/OpenCVSeries/Lesson36/36x13.png)

# 5.ä»£ç åœ°å€

1. [SIFTç‰¹å¾æ£€æµ‹](https://github.com/x-jeff/OpenCV_Code_Demo/tree/master/Demo36)

# 6.å‚è€ƒèµ„æ–™

1. [6.SIFT(å°ºåº¦ä¸å˜ç‰¹å¾å˜æ¢)](https://www.bilibili.com/video/BV1Qb411W7cK?p=1&vd_source=896374db59ca8f208a0bb9f453a24c25)
2. [SIFTç®—æ³•è¯¦è§£](https://blog.csdn.net/Dr_maker/article/details/121442210)
3. [äºŒæ¬¡å‹åŠå…¶çŸ©é˜µ](https://blog.csdn.net/softlove03/article/details/122719117)
4. [ã€çŸ¥è¯†é”¦å›Šã€‘å¯¹å‹¾å‡½æ•°çŸ¥å¤šå°‘ï¼ï¼ï¼](https://mp.weixin.qq.com/s?__biz=MzU0Mjg4ODc2OQ==&mid=2247488687&idx=1&sn=b117d83e03c5db65694a3f04b6897294&chksm=fb129281cc651b9792ce5636f641256136bfd619f922b5535adf1180c524187d735486d82fb0&scene=27)
5. [SIFTç®—æ³•è¯¦è§£ä¸å®ç°](https://blog.csdn.net/wulafly/article/details/70225947)