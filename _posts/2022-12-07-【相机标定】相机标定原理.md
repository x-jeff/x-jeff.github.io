---
layout:     post
title:      ã€ç›¸æœºæ ‡å®šã€‘ç›¸æœºæ ‡å®šåŸç†
subtitle:   ç›¸æœºæ ‡å®šï¼Œç›¸æœºå¤–å‚ï¼Œç›¸æœºå†…å‚ï¼Œç›¸æœºç•¸å˜
date:       2022-12-07
author:     x-jeff
header-img: blogimg/20221207.jpg
catalog: true
tags:
    - Camera Calibration
---  
>æœ¬æ–‡ä¸ºåŸåˆ›æ–‡ç« ï¼Œæœªç»æœ¬äººå…è®¸ï¼Œç¦æ­¢è½¬è½½ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

# 1.æ¦‚å¿µè§£é‡Š

åœ¨å›¾åƒæµ‹é‡è¿‡ç¨‹ä»¥åŠæœºå™¨è§†è§‰åº”ç”¨ä¸­ï¼Œä¸ºç¡®å®šç©ºé—´ç‰©ä½“è¡¨é¢æŸç‚¹çš„ä¸‰ç»´å‡ ä½•ä½ç½®ä¸å…¶åœ¨å›¾åƒä¸­å¯¹åº”ç‚¹ä¹‹é—´çš„ç›¸äº’å…³ç³»ï¼Œå¿…é¡»å»ºç«‹ç›¸æœºæˆåƒçš„å‡ ä½•æ¨¡å‹ï¼Œè¿™äº›å‡ ä½•æ¨¡å‹å‚æ•°å°±æ˜¯ç›¸æœºå‚æ•°ã€‚åœ¨å¤§å¤šæ•°æ¡ä»¶ä¸‹è¿™äº›å‚æ•°å¿…é¡»é€šè¿‡å®éªŒä¸è®¡ç®—æ‰èƒ½å¾—åˆ°ï¼Œè¿™ä¸ªæ±‚è§£å‚æ•°çš„è¿‡ç¨‹å°±ç§°ä¹‹ä¸º**ç›¸æœºæ ‡å®šï¼ˆæˆ–æ‘„åƒæœºæ ‡å®šï¼‰**ã€‚æ— è®ºæ˜¯åœ¨å›¾åƒæµ‹é‡æˆ–è€…æœºå™¨è§†è§‰åº”ç”¨ä¸­ï¼Œç›¸æœºå‚æ•°çš„æ ‡å®šéƒ½æ˜¯éå¸¸å…³é”®çš„ç¯èŠ‚ï¼Œå…¶æ ‡å®šç»“æœçš„ç²¾åº¦åŠç®—æ³•çš„ç¨³å®šæ€§ç›´æ¥å½±å“ç›¸æœºå·¥ä½œäº§ç”Ÿç»“æœçš„å‡†ç¡®æ€§ã€‚å› æ­¤ï¼Œåšå¥½ç›¸æœºæ ‡å®šæ˜¯åšå¥½åç»­å·¥ä½œçš„å‰æï¼Œæé«˜æ ‡å®šç²¾åº¦æ˜¯ç§‘ç ”å·¥ä½œçš„é‡ç‚¹æ‰€åœ¨ã€‚

# 2.ç›¸å…³æœ¯è¯­

ğŸ‘‰**ç„¦ç‚¹**ï¼Œåœ¨å‡ ä½•å…‰å­¦ä¸­æœ‰æ—¶ä¹Ÿç§°ä¸º**åƒç‚¹**ï¼Œæ˜¯æºå¤´çš„å…‰çº¿ç»è¿‡ç‰©é•œåæ±‡èšçš„ç‚¹ã€‚

ğŸ‘‰**ç„¦è·**ï¼Œä¹Ÿç§°ä¸º**ç„¦é•¿**ï¼Œæ˜¯å…‰å­¦ç³»ç»Ÿä¸­è¡¡é‡å…‰çš„èšé›†æˆ–å‘æ•£çš„åº¦é‡æ–¹å¼ï¼ŒæŒ‡ä»é€é•œä¸­å¿ƒåˆ°å…‰èšé›†ä¹‹ç„¦ç‚¹çš„è·ç¦»ã€‚äº¦æ˜¯ç…§ç›¸æœºä¸­ï¼Œä»é•œç‰‡å…‰å­¦ä¸­å¿ƒåˆ°åº•ç‰‡ã€CCDæˆ–CMOSç­‰æˆåƒå¹³é¢çš„è·ç¦»ã€‚

æ­£é€é•œã€è´Ÿé€é•œã€å‡¹é¢é•œå’Œå‡¸é¢é•œçš„ç„¦ç‚¹$F$å’Œç„¦è·$f$ï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/CameraCalibration/20221203/1.png)

ğŸ‘‰**é•œå¤´ï¼ˆLensesï¼‰**æ˜¯å°†æ‹æ‘„æ™¯ç‰©åœ¨ä¼ æ„Ÿå™¨ä¸Šæˆåƒçš„å™¨ä»¶ï¼Œå®ƒé€šå¸¸ç”±å‡ ç‰‡é€é•œã€å…‰åœˆå¶ç‰‡ã€å¯¹ç„¦é©¬è¾¾ç­‰å…‰å­¦å…ƒä»¶ç»„æˆã€‚

ğŸ‘‰**ä¼ æ„Ÿå™¨ï¼ˆSensorï¼‰**æ˜¯æ‘„åƒå¤´ç»„æˆçš„æ ¸å¿ƒï¼Œå…¶ä½œç”¨æ˜¯ä½œä¸ºç›¸æœºçš„æ„Ÿå…‰å…ƒä»¶ã€‚æ‘„åƒå¤´ä¼ æ„Ÿå™¨ä¸»è¦æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯CCDä¼ æ„Ÿå™¨ï¼Œä¸€ç§æ˜¯CMOSä¼ æ„Ÿå™¨ï¼Œä¸¤è€…åŒºåˆ«åœ¨äºï¼šCCDçš„ä¼˜åŠ¿åœ¨äºæˆåƒè´¨é‡å¥½ï¼Œä½†æ˜¯ç”±äºåˆ¶é€ å·¥è‰ºå¤æ‚ï¼Œæˆæœ¬å±…é«˜ä¸ä¸‹ï¼Œç‰¹åˆ«æ˜¯å¤§å‹CCDï¼Œä»·æ ¼éå¸¸é«˜æ˜‚ã€‚åœ¨ç›¸åŒåˆ†è¾¨ç‡ä¸‹ï¼ŒCMOSä»·æ ¼æ¯”CCDä¾¿å®œï¼Œä½†æ˜¯CMOSå™¨ä»¶äº§ç”Ÿçš„å›¾åƒè´¨é‡ç›¸æ¯”CCDæ¥è¯´è¦ä½ä¸€äº›ã€‚

ğŸ‘‰**å…‰å¿ƒ**ï¼šå‡¸é€é•œè¿‘è½´å…‰çº¿ä¸­ï¼Œå…¥å°„çº¿å’Œä¸å…¶å¯¹åº”ä¸”ç›¸å¹³è¡Œçš„å‡ºå°„çº¿æ„æˆå…±è½­å…‰çº¿ï¼Œå…¶å…¥å°„ç‚¹è·Ÿå‡ºå°„ç‚¹çš„è¿çº¿ä¸ä¸»å…‰è½´çš„äº¤ç‚¹ï¼Œç§°ä¸ºå‡¸é€é•œçš„ç„¦ç‚¹ï¼Œä½äºé€é•œä¸­å¤®çš„ç‚¹å«å…‰å¿ƒã€‚

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/CameraCalibration/20221203/3.png)

ä»å›¾ä¸­å¯çŸ¥ï¼Œ$O$ä¸ºå…‰å¿ƒï¼Œ$F$ä¸ºç„¦ç‚¹ã€‚æ¯ä¸ªé€é•œä¸»è½´ä¸Šéƒ½æœ‰ä¸€ä¸ªç‰¹æ®Šç‚¹ï¼Œå‡¡æ˜¯é€šè¿‡è¯¥ç‚¹çš„å…‰ï¼Œå…¶ä¼ æ’­æ–¹å‘ä¸å˜ï¼Œè¿™ä¸ªç‚¹å«å…‰å¿ƒã€‚ç»è¿‡å…‰å¿ƒçš„å…‰çº¿çš„ä¼ æ’­æ–¹å‘ä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚

# 3.åŸç†ä»‹ç»

## 3.1.é’ˆå­”ç›¸æœºæ¨¡å‹

æˆ‘ä»¬é€šå¸¸å°†ç›¸æœºçœ‹æˆå¦‚ä¸‹æ‰€ç¤ºçš„é€é•œæ¨¡å‹ï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/CameraCalibration/20221203/2.png)

åœ¨å®é™…åˆ†ææ—¶ï¼Œé€šå¸¸å°†å…¶ç®€åŒ–ä¸ºé’ˆå­”æ¨¡å‹ï¼ˆå°å­”æˆåƒï¼‰ï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/CameraCalibration/20221203/4.png)

ä¸€èˆ¬ä¸ºäº†åˆ†æç®€å•ï¼Œå°†æˆåƒå¹³é¢ç”»åœ¨å¯¹ç§°ä½ç½®ï¼Œè¿™æ ·å›¾åƒä¸å†é¢ å€’ï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/CameraCalibration/20221203/5.png)

## 3.2.åæ ‡ç³»ä»‹ç»

ç›¸æœºæ ‡å®šä¼šç”¨åˆ°å››ä¸ªåæ ‡ç³»ï¼š

1. **ä¸–ç•Œåæ ‡ç³»ï¼š**ç”¨æˆ·å®šä¹‰çš„ä¸‰ç»´ä¸–ç•Œçš„åæ ‡ç³»ï¼Œç”¨äºæè¿°ç›®æ ‡ç‰©ä½“åœ¨çœŸå®ä¸–ç•Œé‡Œçš„ä½ç½®ã€‚å•ä½é€šå¸¸ä¸ºç±³ï¼ˆmï¼‰ã€‚è¯¥åæ ‡ç³»ä½œç”¨äºä¸‰ç»´ç©ºé—´ã€‚
2. **ç›¸æœºåæ ‡ç³»ï¼š**åœ¨ç›¸æœºä¸Šå»ºç«‹çš„åæ ‡ç³»ï¼Œä¸ºäº†ä»ç›¸æœºçš„è§’åº¦æè¿°ç‰©ä½“ä½ç½®è€Œå®šä¹‰ï¼Œä½œä¸ºæ²Ÿé€šä¸–ç•Œåæ ‡ç³»å’Œå›¾åƒ/åƒç´ åæ ‡ç³»çš„ä¸­é—´ä¸€ç¯ã€‚å•ä½é€šå¸¸ä¸ºç±³ï¼ˆmï¼‰ã€‚ç›¸æœºåæ ‡ç³»çš„åŸç‚¹åœ¨å…‰å¿ƒï¼Œå…¶$X_c$ã€$Y_c$è½´åˆ†åˆ«ä¸åƒé¢çš„ä¸¤è¾¹å¹³è¡Œï¼Œå…¶$Z_c$è½´ä¸å…‰è½´é‡åˆï¼Œä¸”å‚ç›´äºå›¾åƒåæ ‡ç³»å¹³é¢å¹¶é€šè¿‡å›¾åƒåæ ‡ç³»çš„åŸç‚¹ï¼Œç›¸æœºåæ ‡ç³»ä¸å›¾åƒåæ ‡ç³»ä¹‹é—´çš„è·ç¦»ä¸ºç„¦è·$f$ã€‚è¯¥åæ ‡ç³»ä½œç”¨äºä¸‰ç»´ç©ºé—´ã€‚
3. **å›¾åƒåæ ‡ç³»ï¼š**ä¸ºäº†æè¿°æˆåƒè¿‡ç¨‹ä¸­ç‰©ä½“ä»ç›¸æœºåæ ‡ç³»åˆ°å›¾åƒåæ ‡ç³»çš„æŠ•å½±é€å°„å…³ç³»è€Œå¼•å…¥ï¼Œæ–¹ä¾¿è¿›ä¸€æ­¥å¾—åˆ°åƒç´ åæ ‡ç³»ä¸‹çš„åæ ‡ã€‚å…¶åŸç‚¹æ˜¯ç›¸æœºå…‰è½´ä¸åƒé¢çš„äº¤ç‚¹ï¼ˆç§°ä¸ºä¸»ç‚¹ï¼‰ï¼Œå³å›¾åƒçš„ä¸­å¿ƒç‚¹ã€‚å…¶$x,y$è½´å’Œåƒç´ åæ ‡ç³»çš„$u,v$è½´å¹³è¡Œï¼Œæ•…å›¾åƒåæ ‡ç³»å’Œåƒç´ åæ ‡ç³»å®é™…æ˜¯å¹³ç§»å…³ç³»ã€‚å•ä½é€šå¸¸ä¸ºæ¯«ç±³ï¼ˆmmï¼‰ã€‚è¯¥åæ ‡ç³»ä½œç”¨äºäºŒç»´ç©ºé—´ã€‚
4. **åƒç´ åæ ‡ç³»ï¼š**ä¸ºäº†æè¿°ç‰©ä½“æˆåƒåçš„åƒç‚¹åœ¨æ•°å­—å›¾åƒä¸Šï¼ˆç›¸ç‰‡ï¼‰çš„åæ ‡è€Œå¼•å…¥ï¼Œæ˜¯æˆ‘ä»¬çœŸæ­£ä»ç›¸æœºå†…è¯»å–åˆ°çš„ä¿¡æ¯æ‰€åœ¨çš„åæ ‡ç³»ã€‚å•ä½ä¸ºåƒç´ ã€‚åƒç´ åæ ‡å¹³é¢å’Œå›¾åƒåæ ‡å¹³é¢é‡åˆï¼Œä½†åƒç´ åæ ‡ç³»åŸç‚¹ä½äºå›¾åƒå·¦ä¸Šè§’ã€‚è¯¥åæ ‡ç³»ä½œç”¨äºäºŒç»´ç©ºé—´ã€‚

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/CameraCalibration/20221203/6.png)

## 3.3.ç›¸æœºå¤–å‚

é¦–å…ˆè€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•å°†ä¸–ç•Œåæ ‡ç³»ä¸­çš„ç‚¹æ˜ å°„åˆ°ç›¸æœºåæ ‡ç³»ï¼Ÿå…¶å®ç›¸æœºåæ ‡ç³»å¯ä»¥çœ‹ä½œæ˜¯ä¸–ç•Œåæ ‡ç³»é€šè¿‡åˆšä½“å˜æ¢ï¼ˆæ—‹è½¬+å¹³ç§»ï¼‰å¾—åˆ°çš„ã€‚

>åˆšä½“å˜æ¢èƒ½å¤Ÿä¿æŒç‰©ä½“ä¸­å„ç‚¹çš„è·ç¦»å’Œè§’åº¦ã€‚å¸¸è§çš„åˆšä½“å˜æ¢æœ‰å¹³ç§»ã€æ—‹è½¬å’Œé•œåƒã€‚

æˆ‘ä»¬å…ˆåªè€ƒè™‘æ—‹è½¬ï¼Œå‡è®¾å°†åæ ‡ç³»ä»¥$X$è½´ä¸ºä¸­å¿ƒè¿›è¡Œæ—‹è½¬ï¼Œå³$X$ä¸å˜ï¼Œæ—‹è½¬$Y-Z$å¹³é¢ï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/CameraCalibration/20221203/7.png)

å‡è®¾æ—‹è½¬è§’åº¦ä¸º$\theta$ï¼Œå³$\angle{Y'OY}=\angle{Z'OZ}=\theta$ã€‚æ—‹è½¬å‰çš„åæ ‡ç³»ä¸º$X-Y-Z$ï¼Œæ—‹è½¬åçš„åæ ‡ç³»ä¸º$X'-Y'-Z'$ã€‚å‡è®¾ç‚¹$P$åœ¨$X-Y-Z$ä¸­çš„åæ ‡ä¸º$(X_w,Y_w,Z_w)$ï¼Œæ—‹è½¬åï¼Œå…¶åœ¨$X'-Y'-Z'$ä¸­çš„åæ ‡ä¸º$(X_c,Y_c,Z_c)$ï¼š

$$X_c = X_w$$

$$\begin{align} Y_c &= OC+CD \\&= OA \cdot \sin \theta + BP \\&= Z_w \sin \theta + AP \cdot \cos \theta \\&= Z_w \sin \theta + Y_w \cos \theta  \end{align}$$

$$\begin{align} Z_c &= PD \\&= AC - AB \\&= AO \cdot \cos \theta - AP \cdot \sin \theta \\&=Z_w \cos \theta - Y_w \sin \theta \end{align}$$

å†™æˆçŸ©é˜µç›¸ä¹˜çš„å½¢å¼ï¼š

$$\begin{bmatrix} X_c \\ Y_c \\ Z_c \\ \end{bmatrix} = \begin{bmatrix} 1 & 0 & 0 \\ 0 &  \cos \theta & \sin \theta \\ 0 & -\sin \theta & \cos \theta \\ \end{bmatrix} \begin{bmatrix} X_w \\ Y_w \\ Z_w \\ \end{bmatrix} \tag{1}$$

ä¹Ÿå¯ä»¥å†™æˆï¼š

$$\begin{bmatrix} X_w \\ Y_w \\ Z_w \\ \end{bmatrix} = \begin{bmatrix} 1 & 0 & 0 \\ 0 &  \cos \theta & -\sin \theta \\ 0 & \sin \theta & \cos \theta \\ \end{bmatrix} \begin{bmatrix} X_c \\ Y_c \\ Z_c \\ \end{bmatrix} \tag{2}$$

å…¶ä¸­æ—‹è½¬çŸ©é˜µï¼š

$$\mathbf{R} (X_A,\theta) = \begin{bmatrix} 1 & 0 & 0 \\ 0 &  \cos \theta & \sin \theta \\ 0 & -\sin \theta & \cos \theta \\ \end{bmatrix} \tag{3}$$

æˆ–ï¼š

$$\mathbf{R} (X_A,\theta) = \begin{bmatrix} 1 & 0 & 0 \\ 0 &  \cos \theta & -\sin \theta \\ 0 & \sin \theta & \cos \theta \\ \end{bmatrix} \tag{4}$$

æœ‰ä¸¤ç§ç†è§£æ–¹å¼ï¼š

1. å¼(3)å¯¹åº”çš„æ˜¯ä»ä¸–ç•Œåæ ‡ç³»åˆ°ç›¸æœºåæ ‡ç³»ï¼›å¼(4)å¯¹åº”çš„æ˜¯ä»ç›¸æœºåæ ‡ç³»åˆ°ä¸–ç•Œåæ ‡ç³»ã€‚æ—‹è½¬æ–¹å‘éƒ½æ˜¯é€†æ—¶é’ˆã€‚
2. å¼(3)å¯¹åº”çš„æ˜¯ä»ä¸–ç•Œåæ ‡ç³»åˆ°ç›¸æœºåæ ‡ç³»ï¼Œå‰ææ˜¯æ—‹è½¬æ–¹å‘æ˜¯é€†æ—¶é’ˆï¼›å¼(4)å¯¹åº”çš„æ˜¯ä¹Ÿä»ä¸–ç•Œåæ ‡ç³»åˆ°ç›¸æœºåæ ‡ç³»ï¼Œä½†å‰ææ˜¯æ—‹è½¬æ–¹å‘æ˜¯é¡ºæ—¶é’ˆã€‚

ä¾æ­¤ç±»æ¨ï¼Œå¦‚æœé‡‡ç”¨ç¬¬2ç§ç†è§£æ–¹å¼ï¼Œé‚£ä¹ˆåˆ†åˆ«ç»•$Y$ã€$Z$è½´çš„æ—‹è½¬çŸ©é˜µä¸ºï¼ˆç¬¬ä¸€ä¸ªä¸ºé€†æ—¶é’ˆæ—‹è½¬ï¼Œç¬¬äºŒä¸ªä¸ºé¡ºæ—¶é’ˆæ—‹è½¬ï¼‰ï¼š

$$\mathbf{R} (Y_A , \theta) = \begin{bmatrix}  \cos \theta & 0 & \sin \theta \\ 0 & 1 & 0 \\ -\sin \theta & 0 & \cos \theta \\ \end{bmatrix}, \mathbf{R} (Y_A , \theta) = \begin{bmatrix}  \cos \theta & 0 & -\sin \theta \\ 0 & 1 & 0 \\ \sin \theta & 0 & \cos \theta \\ \end{bmatrix}$$

$$\mathbf{R}(Z_A, \theta) = \begin{bmatrix} \cos \theta & \sin \theta & 0 \\ -\sin \theta & \cos \theta & 0 \\ 0 & 0 & 1 \end{bmatrix}, \mathbf{R}(Z_A, \theta) = \begin{bmatrix} \cos \theta & -\sin \theta & 0 \\ \sin \theta & \cos \theta & 0 \\ 0 & 0 & 1 \end{bmatrix}$$

é‚£ä¹ˆæœ€ç»ˆçš„æ—‹è½¬çŸ©é˜µå¯è¡¨ç¤ºä¸ºï¼ˆè®¾ç»•$X,Y,Z$è½´æ—‹è½¬çš„è§’åº¦åˆ†åˆ«ä¸º$\psi,\theta,\phi$ï¼‰ï¼š

$$\mathbf{R} = \mathbf{R}(Z_A, \phi) \mathbf{R} (Y_A , \theta) \mathbf{R} (X_A , \psi)$$

æ­¤æ—¶æˆ‘ä»¬å†åŠ ä¸Šå¹³ç§»å‘é‡$T$ä¾¿å¯å®Œæ•´è¡¨ç¤ºä»ä¸–ç•Œåæ ‡ç³»åˆ°ç›¸æœºåæ ‡ç³»çš„è¿™ä¸ªåˆšä½“å˜æ¢äº†ï¼š

$$\begin{bmatrix} X_c \\ Y_c \\ Z_c \\  \end{bmatrix} = \begin{bmatrix} r_{11} & r_{12} & r_{13} \\ r_{21} & r_{22} & r_{23} \\ r_{31} & r_{32} & r_{33} \\ \end{bmatrix} \begin{bmatrix} X_w \\ Y_w \\ Z_w \\  \end{bmatrix} + \begin{bmatrix} t_x \\ t_y \\ t_z \\ \end{bmatrix} = \mathbf{R} \begin{bmatrix} X_w \\ Y_w \\ Z_w \\  \end{bmatrix} + \mathbf{T}$$

å¯è¿›ä¸€æ­¥å†™æˆå¦‚ä¸‹å½¢å¼ï¼š

$$\begin{bmatrix} X_c \\ Y_c \\ Z_c \\ 1 \\  \end{bmatrix} = \begin{bmatrix} \mathbf{R} & \mathbf{T} \\ 0 & 1 \\ \end{bmatrix} \begin{bmatrix} X_w \\ Y_w \\ Z_w \\ 1 \\  \end{bmatrix}$$

å…¶ä¸­ï¼Œ$\mathbf{R}$å’Œ$\mathbf{T}$ä¾¿æ˜¯ç›¸æœºçš„å¤–å‚ã€‚

## 3.4.ç›¸æœºå†…å‚

ğŸ‘‰é¦–å…ˆè€ƒè™‘å›¾åƒåæ ‡ç³»ï¼ˆxyï¼‰å’Œåƒç´ åæ ‡ç³»ï¼ˆuvï¼‰ä¹‹é—´çš„è½¬æ¢ï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/CameraCalibration/20221203/8.png)

$$\begin{bmatrix} u \\ v \\ 1 \\ \end{bmatrix} = \begin{bmatrix} \frac{1}{dx} & 0 & u_0 \\ 0 & \frac{1}{dy} & v_0 \\ 0 & 0 & 1 \\  \end{bmatrix} \begin{bmatrix} x \\ y \\ 1 \\ \end{bmatrix}$$

$dx$è¡¨ç¤ºä¸€ä¸ªåƒç´ ç‚¹åœ¨$x$æ–¹å‘çš„é•¿åº¦æ˜¯å¤šå°‘æ¯«ç±³ï¼Œ$dy$è¡¨ç¤ºä¸€ä¸ªåƒç´ ç‚¹åœ¨$y$æ–¹å‘çš„é•¿åº¦æ˜¯å¤šå°‘æ¯«ç±³ã€‚$(u_0,v_0)$ä¸ºå›¾åƒä¸­å¿ƒç‚¹ã€‚

ğŸ‘‰ç„¶åè€ƒè™‘ç›¸æœºåæ ‡ç³»å’Œå›¾åƒåæ ‡ç³»ä¹‹é—´çš„è½¬æ¢ï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/CameraCalibration/20221203/9.png)

$$\Delta ABO_c \sim \Delta oCO_c$$

$$\Delta PBO_c \sim \Delta pCO_c$$

$$\frac{AB}{oC} = \frac{AO_c}{oO_c} = \frac{PB}{pC} = \frac{X_c}{x} = \frac{Z_c}{f} = \frac{Y_c}{y}$$

$$x = f \frac{X_c}{Z_c}, y =f \frac{Y_c}{Z_c}$$

$$Z_c \begin{bmatrix} x \\ y \\ 1 \\  \end{bmatrix} = \begin{bmatrix} f & 0 & 0 & 0 \\ 0 & f & 0 & 0 \\ 0 & 0 & 1 & 0 \\  \end{bmatrix} \begin{bmatrix} X_c \\ Y_c \\ Z_c \\ 1 \\ \end{bmatrix}$$

å…¶ä¸­ï¼Œ$f$æ˜¯ç„¦è·ã€‚ç»“åˆç¬¬3.3éƒ¨åˆ†çš„å†…å®¹ï¼Œæˆ‘ä»¬æœ€ç»ˆå¯å¾—åˆ°ä¸–ç•Œåæ ‡ç³»å’Œåƒç´ åæ ‡ç³»ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼š

$$Z_c \begin{bmatrix} u \\ v \\ 1 \\  \end{bmatrix} =\begin{bmatrix} \frac{1}{dx} & 0 & u_0 \\ 0 & \frac{1}{dy} & v_0 \\ 0 & 0 & 1 \\  \end{bmatrix} \begin{bmatrix} f & 0 & 0 & 0 \\ 0 & f & 0 & 0 \\ 0 & 0 & 1 & 0 \\  \end{bmatrix} \begin{bmatrix} \mathbf{R} & \mathbf{T} \\ 0 & 1 \\ \end{bmatrix}  \begin{bmatrix} X_w \\ Y_w \\ Z_w \\ 1 \\ \end{bmatrix} = \begin{bmatrix} f_x & 0 & u_0 & 0 \\ 0 & f_y & v_0 & 0 \\ 0 & 0 & 1 & 0 \\ \end{bmatrix} \begin{bmatrix} \mathbf{R} & \mathbf{T} \\ 0 & 1 \\ \end{bmatrix}  \begin{bmatrix} X_w \\ Y_w \\ Z_w \\ 1 \\ \end{bmatrix} \tag{5}$$

å…¶ä¸­ï¼Œç›¸æœºå†…å‚ä¸ºï¼š

$$\begin{bmatrix} f_x & 0 & u_0 & 0 \\ 0 & f_y & v_0 & 0 \\ 0 & 0 & 1 & 0 \\ \end{bmatrix}$$

ç›¸æœºå¤–å‚ä¸ºï¼š

$$\begin{bmatrix} \mathbf{R} & \mathbf{T} \\ 0 & 1 \\ \end{bmatrix} $$

å¼(5)ä¹Ÿå¯å†™ä¸ºï¼š

$$s \begin{bmatrix} u \\ v \\ 1 \\ \end{bmatrix} = \begin{bmatrix} f_x & 0 & c_x \\ 0 & f_y & c_y \\ 0 & 0 & 1 \\ \end{bmatrix} \begin{bmatrix} r_{11} & r_{12} & r_{13} & t_1 \\ r_{21} & r_{22} & r_{23} & t_2 \\ r_{31} & r_{32} & r_{33} & t_3 \\ \end{bmatrix} \begin{bmatrix} X_w \\ Y_w \\ Z_w \\ 1 \\ \end{bmatrix} \tag{6}$$

## 3.5.ç•¸å˜å‚æ•°

åœ¨å‡ ä½•å…‰å­¦å’Œé˜´æå°„çº¿ç®¡ï¼ˆCRTï¼‰æ˜¾ç¤ºä¸­ï¼Œç•¸å˜ï¼ˆdistortionï¼‰æ˜¯å¯¹ç›´çº¿æŠ•å½±çš„ä¸€ç§åç§»ã€‚ç®€å•æ¥è¯´ç›´çº¿æŠ•å½±æ˜¯åœºæ™¯å†…çš„ä¸€æ¡ç›´çº¿æŠ•å½±åˆ°å›¾ç‰‡ä¸Šä¹Ÿä¿æŒä¸ºä¸€æ¡ç›´çº¿ã€‚é‚£ç•¸å˜ç®€å•æ¥è¯´å°±æ˜¯ä¸€æ¡ç›´çº¿æŠ•å½±åˆ°å›¾ç‰‡ä¸Šä¸èƒ½ä¿æŒä¸ºä¸€æ¡ç›´çº¿äº†ï¼Œè¿™æ˜¯ä¸€ç§å…‰å­¦ç•¸å˜ã€‚ç•¸å˜ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼ŒåŒ…æ‹¬**å¾„å‘ç•¸å˜ï¼ˆradial distortionï¼‰**å’Œ**åˆ‡å‘ç•¸å˜ï¼ˆtangential distortionï¼‰**ã€‚ç•¸å˜è¿˜æœ‰å…¶ä»–ç±»å‹çš„ç•¸å˜ï¼Œä½†æ˜¯æ²¡æœ‰å¾„å‘ç•¸å˜å’Œåˆ‡å‘ç•¸å˜æ˜¾è‘—ã€‚

å¾„å‘ç•¸å˜æ¥è‡ªäºé€é•œå½¢çŠ¶ï¼Œä¸»è¦æ˜¯ç”±äºé€é•œä¸åŒéƒ¨ä½æ”¾å¤§å€ç‡ä¸åŒé€ æˆçš„ã€‚åˆ‡å‘ç•¸å˜æ¥è‡ªäºæ•´ä¸ªç›¸æœºçš„ç»„è£…è¿‡ç¨‹ï¼Œä¸»è¦æ˜¯ç”±äºé€é•œå®‰è£…ä¸æˆåƒå¹³é¢ä¸å¹³è¡Œé€ æˆçš„ã€‚

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/CameraCalibration/20221203/10.png)

### 3.5.1.å¾„å‘ç•¸å˜

å®é™…æ‘„åƒæœºçš„é€é•œæ€»æ˜¯åœ¨æˆåƒä»ªçš„è¾¹ç¼˜äº§ç”Ÿæ˜¾è‘—çš„ç•¸å˜ï¼Œè¿™ç§ç°è±¡æ¥æºäºâ€œç­’å½¢â€æˆ–â€œé±¼çœ¼â€çš„å½±å“ã€‚å…‰çº¿åœ¨è¿œç¦»é€é•œä¸­å¿ƒçš„åœ°æ–¹æ¯”é è¿‘ä¸­å¿ƒçš„åœ°æ–¹æ›´åŠ å¼¯æ›²ã€‚å¯¹äºå¸¸ç”¨çš„æ™®é€šé€é•œæ¥è¯´ï¼Œè¿™ç§ç°è±¡æ›´åŠ ä¸¥é‡ã€‚å¯¹äºå¾„å‘ç•¸å˜ï¼Œæˆåƒä»ªä¸­å¿ƒï¼ˆå³å…‰å­¦ä¸­å¿ƒï¼‰çš„ç•¸å˜ä¸º0ï¼Œéšç€å‘è¾¹ç¼˜ç§»åŠ¨ï¼Œç•¸å˜è¶Šæ¥è¶Šä¸¥é‡ã€‚å¾„å‘ç•¸å˜æŒ‰ç…§å½¢çŠ¶å¯åˆ†ä¸ºä¸‰ç§ï¼š

* æ¡¶å½¢ç•¸å˜ï¼ˆbarrel distortionï¼‰
* æ•å½¢ç•¸å˜ï¼ˆpincushion distortionï¼‰
* èƒ¡å­ç•¸å˜ï¼ˆmustache distortionï¼‰

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/CameraCalibration/20221203/13.png)

æ¡¶å½¢ç•¸å˜åœ¨ä¾¿å®œçš„ç½‘ç»œæ‘„åƒæœºä¸­éå¸¸å‰å®³ï¼Œä½†åœ¨é«˜ç«¯æ‘„åƒæœºä¸­ä¸æ˜æ˜¾ï¼Œå› ä¸ºè¿™äº›é€é•œç³»ç»Ÿåšäº†å¾ˆå¤šæ¶ˆé™¤å¾„å‘ç•¸å˜çš„å·¥ä½œã€‚

### 3.5.2.åˆ‡å‘ç•¸å˜

ç”¨ä¸¤å¼ å›¾å½¢è±¡çš„è§£é‡Šä¸‹åˆ‡å‘ç•¸å˜ï¼š

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/CameraCalibration/20221203/11.png)

![](https://xjeffblogimg.oss-cn-beijing.aliyuncs.com/BLOGIMG/BlogImage/CameraCalibration/20221203/12.png)

### 3.5.3.ç•¸å˜æ ¡æ­£

å¾„å‘ç•¸å˜æ ¡æ­£å…¬å¼ï¼š

$$x^{''} = x^{'} (1+k_1 r^2 + k_2 r^4 + k_3 r^6)$$

$$y^{''} = y^{'} (1+k_1 r^2 + k_2 r^4 + k_3 r^6)$$

åˆ‡å‘ç•¸å˜æ ¡æ­£å…¬å¼ï¼š

$$x^{''} = x^{'} +[ 2p_1 x^{'}y^{'} + p_2 (r^2+2x^{'2}) ]$$

$$y^{''} = y^{'} +[ p_1 (r^2 + 2y^{'2}) + 2p_2 x^{'}y^{'}]$$

ç»“åˆå¼(5)æˆ–å¼(6)ï¼Œåœ¨è€ƒè™‘ç•¸å˜çš„æƒ…å†µä¸‹ï¼Œä»ä¸–ç•Œåæ ‡ç³»åˆ°åƒç´ åæ ‡ç³»çš„æ˜ å°„è¿‡ç¨‹å¯è¡¨ç¤ºä¸ºï¼ˆå’Œ[OpenCVå®˜æ–¹æ–‡æ¡£](https://docs.opencv.org/3.0.0/d9/d0c/group__calib3d.html)ä¿æŒä¸€è‡´ï¼‰ï¼š

$$\begin{bmatrix} X_c \\ Y_c \\ Z_c \\ \end{bmatrix} = \mathbf{R} \begin{bmatrix} X_w \\ Y_w \\ Z_w \\ \end{bmatrix} + \mathbf{T}$$

$$x^{'} = \frac{X_c}{Z_c}, y^{'} = \frac{Y_c}{Z_c}$$

$$x^{''} = x^{'} \frac{1+k_1 r^2 + k_2 r^4 + k_3 r^6}{1+k_4 r^2 + k_5 r^4 + k_6 r^6} + 2p_1 x^{'}y^{'} + p_2 (r^2+2x^{'2}) + s_1 r^2 + s_2 r^4$$

$$y^{''} = y^{'} \frac{1+k_1 r^2 + k_2 r^4 + k_3 r^6}{1+k_4 r^2 + k_5 r^4 + k_6 r^6} + p_1 (r^2 + 2y^{'2}) + 2p_2 x^{'}y^{'} + s_1 r^2 + s_2 r^4$$

$$u = f_x * x^{''} + c_x$$

$$v = f_y * y^{''} + c_y$$

å…¶ä¸­ï¼Œ$r^2 = x^{\'2}+y^{\'2}$ï¼Œ$k_1,k_2,k_3,k_4,k_5,k_6$è¡¨ç¤ºå¾„å‘ç•¸å˜ç³»æ•°ï¼Œ$p_1,p_2$è¡¨ç¤ºåˆ‡å‘ç•¸å˜ç³»æ•°ï¼Œ$s_1,s_2$è¡¨ç¤ºè–„æ£±é•œç•¸å˜ç³»æ•°ï¼ˆthin prism distortionï¼‰ã€‚ä»ä¸Šè¿°æ˜ å°„è¿‡ç¨‹ä¸­å¯ä»¥çœ‹å‡º$(x^{\'},y^{\'},1)$ï¼ˆé€šè¿‡é™¤ä»¥$Z_c$è¿›è¡Œäº†å½’ä¸€åŒ–ï¼‰æ˜¯ç†æƒ³çŠ¶æ€ä¸‹æ— ç•¸å˜çš„ç›¸æœºåæ ‡ç³»ä¸‹çš„åæ ‡ï¼Œè€Œ$(x^{\'\'},y^{\'\'},1)$æ˜¯åœ¨è€ƒè™‘ç•¸å˜ä¹‹åå¾—åˆ°çš„å®é™…çš„ç›¸æœºåæ ‡ç³»ä¸‹çš„åæ ‡ã€‚

# 4.å‚è€ƒèµ„æ–™

1. [ç›¸æœºæ ‡å®šï¼ˆç™¾åº¦ç™¾ç§‘ï¼‰](https://baike.baidu.com/item/ç›¸æœºæ ‡å®š/6912991?fr=aladdin)
2. [ç„¦è·ï¼ˆwikiç™¾ç§‘ï¼‰](https://zh.wikipedia.org/wiki/%E7%84%A6%E8%B7%9D)
3. [2.2 é’ˆå­”ç›¸æœºæ¨¡å‹](https://www.bilibili.com/video/BV1MS4y1W7yr/?spm_id_from=333.880.my_history.page.click&vd_source=896374db59ca8f208a0bb9f453a24c25)
4. [å…‰å¿ƒï¼ˆç™¾åº¦ç™¾ç§‘ï¼‰](https://baike.baidu.com/item/å…‰å¿ƒ/10573967?fr=aladdin)
5. [ç›¸æœºæ ‡å®šåŸç†æ€»ç»“å’Œå®ç°](https://www.jianshu.com/p/a0c408115ce6)
6. [ä¸‰ç»´é‡å»ºæŠ€æœ¯å…¥é—¨](https://space.bilibili.com/407287196/channel/seriesdetail?sid=776263)
7. [å®æµ‹ ubuntu20.04 camera_calibration ç›¸æœºå†…å‚æ ‡å®š](https://blog.csdn.net/qq_32761549/article/details/126663028)
8. [åˆ‡å‘ç•¸å˜ï¼ˆç™¾åº¦ç™¾ç§‘ï¼‰](https://baike.baidu.com/item/åˆ‡å‘ç•¸å˜/4947159?fr=aladdin)
9. [2.ç›¸æœºçš„ç•¸å˜ä»‹ç»](https://blog.csdn.net/sodaANDcola/article/details/119547353)
10. [Camera Calibration and 3D Reconstructioï¼ˆOpenCVå®˜æ–¹æ–‡æ¡£ï¼‰](https://docs.opencv.org/3.0.0/d9/d0c/group__calib3d.html)